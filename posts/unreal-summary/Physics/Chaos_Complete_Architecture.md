---
title: "Chaos Physics Complete Architecture"
date: "2025-12-09"
status: "stable"
project: "UnrealEngine"
lang: "ko"
category: "unreal-summary"
track: "Physics"
tags: ["unreal", "Physics"]
engine_version: "Unreal Engine 5.7"
---
# Chaos Physics Complete Architecture

## ğŸ§­ ê°œìš” (Overview)

**Chaos Physics**ëŠ” UE5ì˜ ê¸°ë³¸ ë¬¼ë¦¬ ì—”ì§„ìœ¼ë¡œ, ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ Position Based Dynamics (PBD) ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” **ì „ì²´ ì•„í‚¤í…ì²˜**ì™€ **ë°ì´í„° íë¦„**ì„ ì‹¬ì¸µ ë¶„ì„í•©ë‹ˆë‹¤.

### í•µì‹¬ ì² í•™

- **ê³„ì¸µì  ì¶”ìƒí™”**: UWorld â†’ FPhysScene â†’ Solver â†’ Evolution
- **ìŠ¤ë ˆë“œ ë¶„ë¦¬**: Game Threadì™€ Physics Threadì˜ ëª…í™•í•œ ì—­í•  ë¶„ë¦¬
- **Push/Pull ë™ê¸°í™”**: ë”í‹° í”Œë˜ê·¸ ê¸°ë°˜ì˜ íš¨ìœ¨ì ì¸ ë°ì´í„° êµí™˜
- **SoA ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒ**: ìºì‹œ íš¨ìœ¨ì ì¸ Structure-of-Arrays êµ¬ì¡°

---

## ğŸ—ï¸ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡° (Class Hierarchy)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Chaos Physics Class Hierarchy                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚                              â”‚   UWorld    â”‚ (ë…¹ìƒ‰)                              â”‚
â”‚                              â”‚ (ê²Œì„ ì›”ë“œ) â”‚                                     â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                     â”‚                               â”‚                            â”‚
â”‚                     â–¼                               â–¼                            â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚        â”‚   FPhysScene_Chaos     â”‚      â”‚       AActor        â”‚                  â”‚
â”‚        â”‚  (ë¬¼ë¦¬ ì”¬ - ë¹¨ê°„ìƒ‰)    â”‚      â”‚    (ê²Œì„ ì•¡í„°)      â”‚                  â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                    â”‚                              â”‚                              â”‚
â”‚                    â”‚ 1:1                          â”‚ 1:N                          â”‚
â”‚                    â–¼                              â–¼                              â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚        â”‚   FPBDRigidsSolver     â”‚      â”‚  UPrimitiveComponent    â”‚              â”‚
â”‚        â”‚   (ì†”ë²„ - ë¹¨ê°„ìƒ‰)      â”‚      â”‚   (ë Œë”ë§/ë¬¼ë¦¬ ëŒ€ìƒ)    â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                    â”‚                              â”‚                              â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ 1:1                          â”‚
â”‚         â”‚                   â”‚                    â–¼                              â”‚
â”‚         â–¼                   â–¼         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     FBodyInstance       â”‚              â”‚
â”‚  â”‚FChaosMarshal-  â”‚  â”‚FPBDRigids-  â”‚  â”‚ (ë¬¼ë¦¬ ë°”ë”” ì»¨í…Œì´ë„ˆ)    â”‚              â”‚
â”‚  â”‚lingManager     â”‚  â”‚EvolutionGBF â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”‚ (ë…¸ë€ìƒ‰)       â”‚  â”‚ (ë¹¨ê°„ìƒ‰)    â”‚             â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚ 1:1                          â”‚
â”‚          â”‚                  â”‚                    â–¼                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”          â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚             â”‚          â”‚         â”‚ FSingleParticlePhysicsProxy â”‚           â”‚
â”‚   â–¼             â–¼          â”‚         â”‚       (íŒŒë€ìƒ‰)              â”‚           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚ â”‚FPush-   â”‚ â”‚FPull-   â”‚    â”‚                    â”‚                              â”‚
â”‚ â”‚Physics- â”‚ â”‚Physics- â”‚    â”‚                    â”‚ 1:1                          â”‚
â”‚ â”‚Data     â”‚ â”‚Data     â”‚    â”‚                    â–¼                              â”‚
â”‚ â”‚(ë…¸ë€ìƒ‰) â”‚ â”‚(ë…¸ë€ìƒ‰) â”‚    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚         â”‚   TGeometryParticle     â”‚              â”‚
â”‚                            â”‚         â”‚   (ê²Œì„ ìŠ¤ë ˆë“œ íŒŒí‹°í´)   â”‚              â”‚
â”‚                            â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                    â”‚                              â”‚
â”‚                            â”‚                    â”‚ 1:1                          â”‚
â”‚                            â–¼                    â–¼                              â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                   â”‚ FPBDRigidsSOAs  â”‚ â”‚TGeometryParticleHandle  â”‚              â”‚
â”‚                   â”‚ (ë…¸ë€ìƒ‰ - SoA)  â”‚â—„â”¤(ë¬¼ë¦¬ ìŠ¤ë ˆë“œ íŒŒí‹°í´)     â”‚              â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  ë²”ë¡€:                                                                           â”‚
â”‚  â”Œâ”€â”€â” ë…¹ìƒ‰: UWorld (ìµœìƒìœ„)                                                     â”‚
â”‚  â”Œâ”€â”€â” ë¹¨ê°„ìƒ‰: ë¬¼ë¦¬ ì—”ì§„ ì½”ì–´ (FPhysScene, Solver, Evolution)                   â”‚
â”‚  â”Œâ”€â”€â” ë…¸ë€ìƒ‰: ë°ì´í„° ë§ˆìƒ¬ë§ (MarshallingManager, Push/Pull Data, SOAs)         â”‚
â”‚  â”Œâ”€â”€â” íŒŒë€ìƒ‰: í”„ë¡ì‹œ & íŒŒí‹°í´ (PhysicsProxy, Particle, Handle)                 â”‚
â”‚  â”€â”€â”€ 1:1 ì†Œìœ  ê´€ê³„                                                              â”‚
â”‚  â”€â”€â–º ì°¸ì¡°/ì¡°ì‘ ê´€ê³„                                                             â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§± í•µì‹¬ í´ë˜ìŠ¤ ìƒì„¸

### 1ï¸âƒ£ UWorld (ìµœìƒìœ„ ê³„ì¸µ)

**ì—­í• **: ëª¨ë“  ê²Œì„ ê°ì²´ì™€ ë¬¼ë¦¬ ì”¬ì„ ê´€ë¦¬í•˜ëŠ” ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ

```cpp
class UWorld
{
    // ë¬¼ë¦¬ ì”¬ (UWorldë‹¹ í•˜ë‚˜)
    FPhysScene* PhysicsScene;

    // ëª¨ë“  ì•¡í„° ê´€ë¦¬
    TArray<AActor*> Actors;

    // í‹± ê·¸ë£¹ ì‹¤í–‰
    void Tick(float DeltaTime);
};
```

---

### 2ï¸âƒ£ FPhysScene_Chaos (ë¬¼ë¦¬ ì”¬ ì¸í„°í˜ì´ìŠ¤)

**ì—­í• **: Chaos ë¬¼ë¦¬ ì—”ì§„ê³¼ ê²Œì„ ì½”ë“œ ì‚¬ì´ì˜ **ìµœìƒìœ„ ì¸í„°í˜ì´ìŠ¤**

```cpp
class FPhysScene_Chaos
{
private:
    // Low-level Chaos ì»¨í…ìŠ¤íŠ¸
    TUniquePtr<FChaosScene> ChaosScene;

    // ì†”ë²„ (ì‹¤ì œ ë¬¼ë¦¬ ì²˜ë¦¬)
    FPBDRigidsSolver* Solver;

public:
    // í”„ë ˆì„ ì‹œì‘/ì¢…ë£Œ
    void StartFrame();
    void EndFrame();

    // ë°”ë”” ë™ê¸°í™”
    void OnSyncBodies();

    // ì•¡í„° ë“±ë¡
    void AddActorsToScene_AssumesLocked(TArray<FSingleParticlePhysicsProxy*>& Proxies);

    // ì¶©ëŒ ì´ë²¤íŠ¸ ì²˜ë¦¬
    void RegisterForCollisionEvents(UPrimitiveComponent* Component);
};
```

**í•µì‹¬ ì±…ì„:**
- ë¬¼ë¦¬ í”„ë ˆì„ì˜ ì‹œì‘ê³¼ ì¢…ë£Œ ê´€ë¦¬
- ê²Œì„ ê°ì²´ì™€ ë¬¼ë¦¬ íŒŒí‹°í´ ê°„ì˜ ë“±ë¡/í•´ì œ
- ì¶©ëŒ ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŠ¸

---

### 3ï¸âƒ£ FPBDRigidsSolver (ë¬¼ë¦¬ ì†”ë²„)

**ì—­í• **: ê²Œì„ ì—”ì§„ê³¼ ë¬¼ë¦¬ ì—”ì§„ ì‚¬ì´ì˜ **ë§ˆì§€ë§‰ ì¶”ìƒí™” ê³„ì¸µ**

```cpp
class FPBDRigidsSolver : public FPhysicsSolverBase
{
private:
    // ë§ˆìƒ¬ë§ ë§¤ë‹ˆì € (ë°ì´í„° ë™ê¸°í™”)
    TUniquePtr<FChaosMarshallingManager> MarshallingManager;

    // Evolution (ì‹¤ì œ ë¬¼ë¦¬ ê³„ì‚°)
    TUniquePtr<FPBDRigidsEvolutionGBF> MEvolution;

    // íŒŒí‹°í´ ì»¬ë ‰ì…˜ (SoA êµ¬ì¡°)
    FPBDRigidsSOAs Particles;

    // ë“±ë¡ëœ í”„ë¡ì‹œë“¤
    TArray<IPhysicsProxyBase*> Proxies;

public:
    // ì™¸ë¶€ í˜¸ì¶œ (Game Thread)
    void AdvanceAndDispatch_External(FReal DeltaTime);
    void PushPhysicsState(FReal DeltaTime, int32 NumSteps);

    // ë‚´ë¶€ í˜¸ì¶œ (Physics Thread)
    void ProcessPushData();
    void ProcessPushedData_Internal(FPushPhysicsData& PushData);
    void AdvanceSolver();
    void BufferPhysicsResults();
    void CompleteSceneSimulation();

    // ê°ì²´ ë“±ë¡
    void RegisterObject(IPhysicsProxyBase* Proxy);
    void UnregisterObject(IPhysicsProxyBase* Proxy);
};
```

---

### 4ï¸âƒ£ FChaosMarshallingManager (ë°ì´í„° ë§ˆìƒ¬ë§)

**ì—­í• **: Game Thread â†” Physics Thread ê°„ **ì•ˆì „í•œ ë°ì´í„° êµí™˜**

```cpp
class FChaosMarshallingManager
{
private:
    // Push ë°ì´í„° (Game â†’ Physics)
    FPushPhysicsData* ProducerData;           // í˜„ì¬ ìƒì‚° ì¤‘ì¸ ë°ì´í„°
    TArray<FPushPhysicsData*> ExternalQueue;  // ëŒ€ê¸°ì—´
    TQueue<FPushPhysicsData*> PushDataPool;   // ì¬ì‚¬ìš© í’€

    // Pull ë°ì´í„° (Physics â†’ Game)
    FPullPhysicsData* CurPullData;            // í˜„ì¬ ê²°ê³¼ ë°ì´í„°
    TQueue<FPullPhysicsData*> PullDataQueue;  // ê²°ê³¼ í

    // ë”í‹° í”„ë¡ì‹œ ë²„í¼
    FDirtyProxiesDataBuffer DirtyProxiesDataBuffer;

    // íƒ€ì„ìŠ¤íƒ¬í”„
    std::atomic<FReal> ExternalTime_External;
    std::atomic<int32> ExternalTimestamp_External;

public:
    // Game Thread API
    void Step_External(FReal DeltaTime, int32 NumSteps);
    void AddDirtyProxy(IPhysicsProxyBase* Proxy);
    FPushPhysicsData* GetProducerData_External();
    FPullPhysicsData* PopPullData_External();

    // Physics Thread API
    void FinalizePullData_Internal();
    void PreparePullData();
    void FreeData_Internal(FPushPhysicsData* PushData);
};
```

---

### 5ï¸âƒ£ FPBDRigidsEvolutionGBF (ë¬¼ë¦¬ ì—°ì‚° ì—”ì§„)

**ì—­í• **: **ì‹¤ì œ ë¬¼ë¦¬ ë²•ì¹™ì„ êµ¬í˜„**í•˜ëŠ” í•µì‹¬ ì—°ì‚° ì—”ì§„

```cpp
class FPBDRigidsEvolutionGBF
{
private:
    // ì œì•½ ì¡°ê±´ë“¤
    FPBDCollisionConstraints CollisionConstraints;     // ì¶©ëŒ ì œì•½
    FPBDJointConstraints JointConstraints;             // ì¡°ì¸íŠ¸ ì œì•½

    // ê³µê°„ ê°€ì† êµ¬ì¡°
    FSpatialAccelerationBroadPhase BroadPhase;         // ê´‘ì—­ ì¶©ëŒ ê°ì§€
    FSpatialAccelerationCollisionDetector CollisionDetector;

    // ì¶”ê°€ ì‹œìŠ¤í…œ
    FGravityForces GravityForces;                      // ì¤‘ë ¥
    FRigidClustering Clustering;                       // í´ëŸ¬ìŠ¤í„°ë§ (íŒŒê´´)
    FCCDManager CCDManager;                            // ì—°ì† ì¶©ëŒ ê°ì§€
    FPBDIslandGroupManager IslandManager;              // Island ë³‘ë ¬í™”

public:
    // ë©”ì¸ ì‹œë®¬ë ˆì´ì…˜ ìŠ¤í…
    void AdvanceOneTimeStep(FReal Dt);
    void AdvanceOneTimeStepImpl(FReal Dt);

    // ì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„
    void Integrate(FReal Dt);                          // ì ë¶„
    void RunBroadPhase();                              // ê´‘ì—­ ì¶©ëŒ
    void RunNarrowPhase();                             // ì •ë°€ ì¶©ëŒ
    void Solve(FReal Dt);                              // ì œì•½ í•´ê²°
    void ParticleUpdatePosition(FReal Dt);             // ìœ„ì¹˜ ê°±ì‹ 

    // íŒŒí‹°í´ ë·°
    TParticleView<TPBDRigidParticles<FReal, 3>>& GetActiveParticlesView();
    TParticleView<TPBDRigidParticles<FReal, 3>>& GetDirtyParticlesView();
};
```

---

### 6ï¸âƒ£ FPBDRigidsSOAs (Structure-of-Arrays íŒŒí‹°í´ ì»¬ë ‰ì…˜)

**ì—­í• **: ëª¨ë“  ë¬¼ë¦¬ íŒŒí‹°í´ì„ **ìºì‹œ íš¨ìœ¨ì ì¸ SoA êµ¬ì¡°**ë¡œ ê´€ë¦¬

```cpp
class FPBDRigidsSOAs
{
private:
    // íŒŒí‹°í´ íƒ€ì…ë³„ ë°°ì—´
    TArray<FGeometryParticle*> StaticParticles;       // ì •ì  íŒŒí‹°í´
    TArray<FKinematicGeometryParticle*> KinematicParticles;  // í‚¤ë„¤ë§ˆí‹±
    TArray<FPBDRigidParticle*> DynamicParticles;      // ë™ì  íŒŒí‹°í´

    // SoA ë°ì´í„° (SIMD ìµœì í™”)
    alignas(16) TArray<FVec3> AllPositions;           // ëª¨ë“  ìœ„ì¹˜
    alignas(16) TArray<FVec3> AllVelocities;          // ëª¨ë“  ì†ë„
    alignas(16) TArray<FQuat> AllRotations;           // ëª¨ë“  íšŒì „
    alignas(16) TArray<FVec3> AllAngularVelocities;   // ëª¨ë“  ê°ì†ë„

public:
    // íŒŒí‹°í´ ìƒì„±
    FGeometryParticleHandle* CreateStaticParticles(int32 NumParticles);
    FKinematicGeometryParticleHandle* CreateKinematicParticles(int32 NumParticles);
    FPBDRigidParticleHandle* CreateDynamicParticles(int32 NumParticles);

    // ë”í‹° íŒŒí‹°í´ ì¶”ì 
    TParticleView<TPBDRigidParticles<FReal, 3>>& GetDirtyParticlesView();
    TParticleView<TPBDRigidParticles<FReal, 3>>& GetActiveParticlesView();
};
```

**SoA vs AoS ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Memory Layout Comparison                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  âŒ AoS (Array of Structures) - ìºì‹œ ë¹„íš¨ìœ¨ì                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [P0.xyz V0.xyz R0.xyzw M0] [P1.xyz V1.xyz R1.xyzw M1] [P2.xyz ...]       â”‚   â”‚
â”‚  â”‚  â†‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ìºì‹œ ë¼ì¸ â”€â”€â”€â”€â”€â”€â†‘                                           â”‚   â”‚
â”‚  â”‚  Positionë§Œ ì ‘ê·¼í•´ë„ ì „ì²´ êµ¬ì¡°ì²´ê°€ ìºì‹œì— ë¡œë“œë¨                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚  âœ… SoA (Structure of Arrays) - ìºì‹œ íš¨ìœ¨ì                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Positions:  [P0.xyz P1.xyz P2.xyz P3.xyz P4.xyz P5.xyz P6.xyz P7.xyz]    â”‚   â”‚
â”‚  â”‚              â†‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ìºì‹œ ë¼ì¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†‘                          â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚ Velocities: [V0.xyz V1.xyz V2.xyz V3.xyz V4.xyz V5.xyz V6.xyz V7.xyz]    â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚ Rotations:  [R0.xyzw R1.xyzw R2.xyzw R3.xyzw ...]                        â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚ Position ìˆœíšŒ ì‹œ ìºì‹œ íš¨ìœ¨ ê·¹ëŒ€í™” + SIMD ë²¡í„°í™” ê°€ëŠ¥                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚  ğŸ“Š ì„±ëŠ¥ ì°¨ì´:                                                                   â”‚
â”‚  â€¢ Position Integration: SoAê°€ ~2-3x ë¹ ë¦„                                       â”‚
â”‚  â€¢ Collision Detection: SoAê°€ ~1.5-2x ë¹ ë¦„                                      â”‚
â”‚  â€¢ SIMD í™œìš©: 4-8ê°œ íŒŒí‹°í´ ë™ì‹œ ì²˜ë¦¬ ê°€ëŠ¥                                       â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7ï¸âƒ£ FBodyInstance (ë¬¼ë¦¬ ë°”ë”” ì»¨í…Œì´ë„ˆ)

**ì—­í• **: UPrimitiveComponentì˜ **ë¬¼ë¦¬ í‘œí˜„ì„ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ**

```cpp
class FBodyInstance
{
private:
    // ì†Œìœ ì
    TWeakObjectPtr<UPrimitiveComponent> OwnerComponent;

    // ë¬¼ë¦¬ í”„ë¡ì‹œ (Chaos íŒŒí‹°í´ì— ëŒ€í•œ í•¸ë“¤)
    FSingleParticlePhysicsProxy* ActorHandle;

    // ë°”ë”” ì„¤ì •
    UBodySetup* BodySetup;

    // ë¬¼ë¦¬ ì†ì„±
    FMassProperties MassProperties;
    ECollisionChannel ObjectType;
    FCollisionResponseContainer CollisionResponses;

    // ìƒíƒœ í”Œë˜ê·¸
    uint8 bSimulatePhysics : 1;
    uint8 bEnableGravity : 1;
    uint8 bAutoWeld : 1;

public:
    // ì´ˆê¸°í™”
    void InitBody(UBodySetup* Setup, const FTransform& Transform,
                  UPrimitiveComponent* Owner, FPhysScene* PhysScene);

    // Transform ì¡°ì‘
    void SetBodyTransform(const FTransform& NewTransform, ETeleportType Teleport);
    FTransform GetUnrealWorldTransform() const;

    // í˜/ì¶©ê²©ëŸ‰ ì ìš©
    void AddForce(const FVector& Force);
    void AddImpulse(const FVector& Impulse, bool bVelChange);

    // ì†ë„ ì¡°ì‘
    void SetLinearVelocity(const FVector& NewVel);
    void SetAngularVelocity(const FVector& NewAngVel);
};
```

---

### 8ï¸âƒ£ FSingleParticlePhysicsProxy (ë¬¼ë¦¬ í”„ë¡ì‹œ)

**ì—­í• **: ê²Œì„ ìŠ¤ë ˆë“œì™€ ë¬¼ë¦¬ ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ **ì¤‘ê°œì**

```cpp
class FSingleParticlePhysicsProxy : public TPhysicsProxy<FSingleParticlePhysicsProxy>
{
private:
    // ê²Œì„ ìŠ¤ë ˆë“œ íŒŒí‹°í´ (ì½ê¸°ìš© ìºì‹œ)
    TUniquePtr<TGeometryParticle<FReal, 3>> Particle;

    // ë¬¼ë¦¬ ìŠ¤ë ˆë“œ íŒŒí‹°í´ í•¸ë“¤ (ì‹¤ì œ ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„°)
    TGeometryParticleHandle<FReal, 3>* Handle;

    // ë³´ê°„ ë°ì´í„°
    FProxyInterpolationData InterpolationData;

    // ë”í‹° ì¸ë±ìŠ¤
    int32 DirtyIdx;

public:
    // ìƒì„±
    static FSingleParticlePhysicsProxy* Create(TUniquePtr<FGeometryParticle>&& Particle);

    // Game Thread API (ìºì‹œëœ ë°ì´í„° ì ‘ê·¼)
    FVector GetX() const { return Particle->X(); }
    FQuat GetR() const { return Particle->R(); }
    FVector GetV() const { return Particle->V(); }

    // Game Thread â†’ Physics Thread (Push)
    void PushToPhysicsState(const FDirtyPropertiesManager& Manager,
                            int32 DataIdx, const FDirtyProxy& Dirty,
                            FShapeDirtyData* ShapesData, FReal ExternalDt);

    // Physics Thread â†’ Game Thread (Pull)
    bool PullFromPhysicsState(const FDirtyRigidParticleData& PullData,
                              int32 SolverSyncTimestamp,
                              const FDirtyRigidParticleData* NextPullData,
                              const FRealSingle* Alpha);

    // ë”í‹° ë§ˆí‚¹
    void MarkDirty(EChaosPropertyFlags Flag);

    // ë¬¼ë¦¬ ê²°ê³¼ ë²„í¼ë§
    void BufferPhysicsResults(FDirtyRigidParticleData& BufferData);
};
```

**ë‘ ê°œì˜ íŒŒí‹°í´ í‘œí˜„:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               FSingleParticlePhysicsProxyì˜ ì´ì¤‘ í‘œí˜„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚     TGeometryParticle         â”‚   â”‚   TGeometryParticleHandle     â”‚          â”‚
â”‚  â”‚    (Game Thread ë°ì´í„°)       â”‚   â”‚   (Physics Thread ë°ì´í„°)     â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚                               â”‚   â”‚                               â”‚          â”‚
â”‚  â”‚  â€¢ ê²Œì„ ìŠ¤ë ˆë“œì—ì„œ ì•ˆì „í•˜ê²Œ   â”‚   â”‚  â€¢ FPBDRigidsSOAs ë‚´ë¶€ì˜      â”‚          â”‚
â”‚  â”‚    ì½ì„ ìˆ˜ ìˆëŠ” ìºì‹œ ë°ì´í„°   â”‚   â”‚    ì‹¤ì œ ë¬¼ë¦¬ ë°ì´í„°ë¥¼ ê°€ë¦¬í‚´  â”‚          â”‚
â”‚  â”‚                               â”‚   â”‚                               â”‚          â”‚
â”‚  â”‚  â€¢ Position (X)               â”‚   â”‚  â€¢ ë¬¼ë¦¬ ìŠ¤ë ˆë“œì—ì„œë§Œ ì§ì ‘     â”‚          â”‚
â”‚  â”‚  â€¢ Rotation (R)               â”‚   â”‚    ìˆ˜ì • ê°€ëŠ¥                   â”‚          â”‚
â”‚  â”‚  â€¢ Velocity (V)               â”‚   â”‚                               â”‚          â”‚
â”‚  â”‚  â€¢ Angular Velocity (W)       â”‚   â”‚  â€¢ Handle->X() ë“±ìœ¼ë¡œ ì ‘ê·¼    â”‚          â”‚
â”‚  â”‚                               â”‚   â”‚                               â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                 â†‘                                    â†‘                           â”‚
â”‚                 â”‚                                    â”‚                           â”‚
â”‚      PullFromPhysicsState()              PushToPhysicsState()                   â”‚
â”‚      (ê²°ê³¼ ë™ê¸°í™”)                        (ì…ë ¥ ë™ê¸°í™”)                          â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 9ï¸âƒ£ TGeometryParticle / TGeometryParticleHandle

**TGeometryParticle (ê²Œì„ ìŠ¤ë ˆë“œìš©):**

```cpp
template<typename T, int d>
class TGeometryParticle
{
private:
    // ê¸°ë³¸ ë³€í™˜
    TVector<T, d> MX;       // Position
    TRotation<T, d> MR;     // Rotation

    // ì†ë„
    TVector<T, d> MV;       // Linear Velocity
    TVector<T, d> MW;       // Angular Velocity

    // í˜•ìƒ ë°ì´í„°
    TArray<TUniquePtr<FPerShapeData>> ShapeData;

    // ë©”íƒ€ë°ì´í„°
    EObjectStateType ObjectState;  // Static/Kinematic/Dynamic

public:
    // Getter/Setter
    const TVector<T, d>& X() const { return MX; }
    void SetX(const TVector<T, d>& InX) { MX = InX; }

    // ë™ê¸°í™”
    void SyncRemoteData(const FDirtyChaosProperties& Dirty);
};
```

**TGeometryParticleHandle (ë¬¼ë¦¬ ìŠ¤ë ˆë“œìš©):**

```cpp
template<typename T, int d>
class TGeometryParticleHandle
{
private:
    // FPBDRigidsSOAs ë‚´ì˜ ì¸ë±ìŠ¤
    int32 ParticleIdx;

    // ì†Œìœ í•˜ëŠ” SOAì— ëŒ€í•œ ì°¸ì¡°
    FPBDRigidsSOAs* OwningSOA;

public:
    // SOA ë°ì´í„°ì— ëŒ€í•œ ì§ì ‘ ì ‘ê·¼
    TVector<T, d>& X() { return OwningSOA->AllPositions[ParticleIdx]; }
    TRotation<T, d>& R() { return OwningSOA->AllRotations[ParticleIdx]; }
    TVector<T, d>& V() { return OwningSOA->AllVelocities[ParticleIdx]; }
    TVector<T, d>& W() { return OwningSOA->AllAngularVelocities[ParticleIdx]; }

    // ë¬¼ë¦¬ ì†ì„±
    T& M() { return OwningSOA->AllMasses[ParticleIdx]; }  // Mass
    TVector<T, d>& I() { return OwningSOA->AllInertias[ParticleIdx]; }  // Inertia
};
```

---

## ğŸ”„ Physics Tick íë¦„ (ì „ì²´ í”„ë ˆì„)

### Tick Group ìˆœì„œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Physics Tick Groups Flow                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  UWorld::Tick(DeltaTime)                                                        â”‚
â”‚       â”‚                                                                          â”‚
â”‚       â”œâ”€â”€â–º TG_PrePhysics                                                        â”‚
â”‚       â”‚         â”‚                                                                â”‚
â”‚       â”‚         â””â”€â”€ ê²Œì„ ë¡œì§ ì‹¤í–‰ (Actor Tick, Input ì²˜ë¦¬ ë“±)                   â”‚
â”‚       â”‚                                                                          â”‚
â”‚       â”œâ”€â”€â–º TG_StartPhysics  â—„â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“ â”‚
â”‚       â”‚         â”‚                                                            â”ƒ â”‚
â”‚       â”‚         â””â”€â”€ FStartPhysicsTickFunction ì‹¤í–‰                           â”ƒ â”‚
â”‚       â”‚                â”‚                                                     â”ƒ â”‚
â”‚       â”‚                â””â”€â”€ FChaosScene::StartFrame()                         â”ƒ â”‚
â”‚       â”‚                      â”‚                                               â”ƒ â”‚
â”‚       â”‚                      â””â”€â”€ FPBDRigidsSolver::AdvanceAndDispatch_External()
â”‚       â”‚                            â”‚                                         â”ƒ â”‚
â”‚       â”‚                            â”œâ”€â”€ PushPhysicsState()  â”â”â”â”â” Push â”â”â”â”â”â”â”â”« â”‚
â”‚       â”‚                            â”‚                                         â”ƒ â”‚
â”‚       â”‚                            â””â”€â”€ AdvanceOneTimeStepTask ë””ìŠ¤íŒ¨ì¹˜        â”ƒ â”‚
â”‚       â”‚                                                                      â”ƒ â”‚
â”‚       â”œâ”€â”€â–º TG_DuringPhysics                                                  â”ƒ â”‚
â”‚       â”‚         â”‚                                                            â”ƒ â”‚
â”‚       â”‚         â””â”€â”€ Physics Threadì—ì„œ ë¹„ë™ê¸°ë¡œ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰:             â”ƒ â”‚
â”‚       â”‚               â”‚                                                      â”ƒ â”‚
â”‚       â”‚               â”œâ”€â”€ ProcessPushData()                                  â”ƒ â”‚
â”‚       â”‚               â”œâ”€â”€ AdvanceSolver()                                    â”ƒ â”‚
â”‚       â”‚               â”‚     â””â”€â”€ FPBDRigidsEvolutionGBF::AdvanceOneTimeStep() â”ƒ â”‚
â”‚       â”‚               â”œâ”€â”€ BufferPhysicsResults()  â”â”â”â”â”â”â”â”â”â” Pull â”â”â”â”â”â”â”â”â”â”â”› â”‚
â”‚       â”‚               â””â”€â”€ CompleteSceneSimulation()                            â”‚
â”‚       â”‚                                                                          â”‚
â”‚       â”œâ”€â”€â–º TG_EndPhysics  â—„â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”‚       â”‚         â”‚                                                              â”ƒ
â”‚       â”‚         â””â”€â”€ FEndPhysicsTickFunction ì‹¤í–‰                              â”ƒ
â”‚       â”‚                â”‚                                                       â”ƒ
â”‚       â”‚                â””â”€â”€ FChaosScene::EndFrame()                             â”ƒ
â”‚       â”‚                      â”‚                                                 â”ƒ
â”‚       â”‚                      â””â”€â”€ SyncBodies()                                  â”ƒ
â”‚       â”‚                            â”‚                                           â”ƒ
â”‚       â”‚                            â””â”€â”€ OnSyncBodies()                          â”ƒ
â”‚       â”‚                                  â”‚                                     â”ƒ
â”‚       â”‚                                  â””â”€â”€ PullPhysicsStateForEachDirtyProxy()
â”‚       â”‚                                        â”‚                               â”ƒ
â”‚       â”‚                                        â””â”€â”€ UPrimitiveComponent::      â”ƒ
â”‚       â”‚                                              MoveComponent()  â”â”â”â”â”â”â”â”â”›
â”‚       â”‚                                                                          â”‚
â”‚       â””â”€â”€â–º TG_PostPhysics                                                       â”‚
â”‚                 â”‚                                                                â”‚
â”‚                 â””â”€â”€ ë¬¼ë¦¬ í›„ì²˜ë¦¬ ë¡œì§ (ì• ë‹ˆë©”ì´ì…˜ ì—…ë°ì´íŠ¸ ë“±)                    â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¤ Push ë°ì´í„° íë¦„ (Game â†’ Physics)

### ìƒì„¸ ì‹œí€€ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Push Data Flow: Game Thread â†’ Physics Thread                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚UWorld::Tick â”‚   â”‚RunTickGroup      â”‚   â”‚FPhysicsSolverProcess-  â”‚           â”‚
â”‚  â”‚   (ë…¹ìƒ‰)    â”‚â”€â”€â–ºâ”‚(TG_StartPhysics) â”‚â”€â”€â–ºâ”‚PushDataTask::Process-  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    (ë…¹ìƒ‰)        â”‚   â”‚PushData (ë³´ë¼ìƒ‰)       â”‚           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                       â”‚                         â”‚
â”‚                                                       â–¼                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ FPBDRigidsSolver::AdvanceAndDispatch_External() (ë¹¨ê°„ìƒ‰)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                              â”‚
â”‚                                  â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ FPBDRigidsSolver::PushPhysicsState() (ë¹¨ê°„ìƒ‰)                            â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚  â€¢ ëª¨ë“  ë”í‹° í”„ë¡ì‹œ ìˆ˜ì§‘                                                 â”‚   â”‚
â”‚  â”‚  â€¢ FPushPhysicsDataì— ë³€ê²½ì‚¬í•­ ëˆ„ì                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                              â”‚
â”‚                                  â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Get FPushData::DirtyProxiesDataBuffer (ë…¸ë€ìƒ‰)                           â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚  â€¢ ë³€ê²½ëœ í”„ë¡ì‹œ ëª©ë¡                                                    â”‚   â”‚
â”‚  â”‚  â€¢ ë³€ê²½ëœ ì†ì„± í”Œë˜ê·¸ (Position, Velocity, etc.)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                              â”‚
â”‚                                  â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ FDirtyChaosProperties::SyncRemote() (íŒŒë€ìƒ‰)                             â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚  â€¢ TGeometryParticleì˜ ë°ì´í„°ë¥¼ ì›ê²© ë²„í¼ì— ë™ê¸°í™”                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                              â”‚
â”‚                 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                        â”‚
â”‚                         Thread Boundary (Push)                                  â”‚
â”‚                 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                        â”‚
â”‚                                  â”‚                                              â”‚
â”‚                                  â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ FPBDRigidsSolver::ProcessSinglePushedData_Internal() (ë¹¨ê°„ìƒ‰)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                              â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                    â”‚    New particle?          â”‚                               â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                           Yes â”‚   â”‚ No                                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚                    â–¼                         â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Generate                   â”‚  â”‚ FSingleParticlePhysicsProxy::          â”‚   â”‚
â”‚  â”‚ TGeometryParticleHandle    â”‚  â”‚ PushToPhysicsState() (íŒŒë€ìƒ‰)          â”‚   â”‚
â”‚  â”‚ (ë…¸ë€ìƒ‰)                   â”‚  â”‚                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ Handle->SetX(Particle->X())         â”‚   â”‚
â”‚                â”‚                 â”‚  â€¢ Handle->SetV(Particle->V())         â”‚   â”‚
â”‚                â–¼                 â”‚  â€¢ Handle->SetR(Particle->R())         â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚ FPBDRigidsSOAs::           â”‚                        â”‚                       â”‚
â”‚  â”‚ CreateStaticParticles()   â”‚                        â”‚                       â”‚
â”‚  â”‚ (ë…¸ë€ìƒ‰)                   â”‚                        â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚                       â”‚
â”‚                â”‚                                       â”‚                       â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                    â”‚                                            â”‚
â”‚                                    â–¼                                            â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚              â”‚ TGeometryParticleHandle::X() (íŒŒë€ìƒ‰)        â”‚                   â”‚
â”‚              â”‚                                              â”‚                   â”‚
â”‚              â”‚  SOA ë‚´ë¶€ì˜ ì‹¤ì œ ë¬¼ë¦¬ ë°ì´í„°ì— ê°’ ë°˜ì˜       â”‚                   â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ AdvanceOneTimeStep ë‚´ë¶€ íë¦„

### ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               FPBDRigidsEvolutionGBF::AdvanceOneTimeStep() ë‚´ë¶€ íë¦„             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  AdvanceOneTimeStepTask::DoWork()                                               â”‚
â”‚              â”‚                                                                   â”‚
â”‚              â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚ FPBDRigidsEvolutionGBF::AdvanceOneTimeStepâ”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                        â”‚                                                         â”‚
â”‚                        â–¼                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚ FPBDRigidsEvolutionGBF::AdvanceOneTimeStepImpl                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                        â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚                    â”‚                    â”‚                                   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚   â”‚  â”‚ Step 1: Integrate (ì ë¶„)          â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ì™¸ë¶€ í˜ ì ìš© (ì¤‘ë ¥ ë“±)          â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ V = V + (F/M) * dt              â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ X_predicted = X + V * dt        â”‚  â”‚                                   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚   â”‚                    â”‚                    â”‚                                   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚   â”‚  â”‚ Step 2: RunBroadPhase (ê´‘ì—­ ì¶©ëŒ) â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ AABBTree ê¸°ë°˜ ê³µê°„ ë¶„í•          â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ì ì¬ì  ì¶©ëŒ ìŒ ìˆ˜ì§‘             â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ë¹ ë¥¸ AABB êµì°¨ í…ŒìŠ¤íŠ¸           â”‚  â”‚                                   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚   â”‚                    â”‚                    â”‚                                   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚   â”‚  â”‚ Step 3: RunNarrowPhase (ì •ë°€ ì¶©ëŒ)â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ GJK/EPA ì•Œê³ ë¦¬ì¦˜                â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ì •í™•í•œ ì ‘ì´‰ì  ê³„ì‚°              â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ Contact Manifold ìƒì„±           â”‚  â”‚                                   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚   â”‚                    â”‚                    â”‚                                   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚   â”‚  â”‚ Step 4: Solve (ì œì•½ í•´ê²°)         â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ FPBDIslandGroupManager::Solve() â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ì¶©ëŒ ì œì•½ í•´ê²°                  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ì¡°ì¸íŠ¸ ì œì•½ í•´ê²°                â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ PBD ë°˜ë³µ (Position Correction)  â”‚  â”‚                                   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚   â”‚                    â”‚                    â”‚                                   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚   â”‚  â”‚ Step 5: ParticleUpdatePosition    â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ìµœì¢… ìœ„ì¹˜ ê³„ì‚°: X = X + V * dt  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ ìµœì¢… íšŒì „ ê³„ì‚°                  â”‚  â”‚                                   â”‚
â”‚   â”‚  â”‚ â€¢ Sleep ìƒíƒœ ì—…ë°ì´íŠ¸             â”‚  â”‚                                   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚   â”‚                    â”‚                    â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                        â”‚                                                         â”‚
â”‚                        â–¼                                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚              â”‚   x = x + v*dt  â”‚ â† í•µì‹¬ ë¬¼ë¦¬ ê³µì‹                               â”‚
â”‚              â”‚   (êµ¬ë¦„ ëª¨ì–‘)   â”‚                                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¥ Pull ë°ì´í„° íë¦„ (Physics â†’ Game)

### BufferPhysicsResults ë‹¨ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Pull Data Flow (Part 1): BufferPhysicsResults                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                â”‚
â”‚  â”‚UWorld::Tick â”‚                                                                â”‚
â”‚  â”‚   (ë…¹ìƒ‰)    â”‚                                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                                â”‚
â”‚         â”‚                                                                        â”‚
â”‚         â–¼                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚RunTickGroup              â”‚                                                   â”‚
â”‚  â”‚(TG_StartPhysics) (ë…¹ìƒ‰)  â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                 â”‚                                                                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚         â”‚                                        â”‚                              â”‚
â”‚         â–¼                                        â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚FChaosScene::       â”‚              â”‚FPBDRigidsSolver::                  â”‚    â”‚
â”‚  â”‚StartFrame (ë¹¨ê°„ìƒ‰) â”‚              â”‚CompleteSceneSimulation (ë¹¨ê°„ìƒ‰)   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                        â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚                        â”‚
â”‚  â”‚FPBDRigidsSolver::              â”‚                   â”‚                        â”‚
â”‚  â”‚AdvanceAndDispatch_External    â”‚                   â”‚                        â”‚
â”‚  â”‚          (ë¹¨ê°„ìƒ‰)              â”‚                   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚                        â”‚
â”‚                                                        â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚AdvanceOneTimeStepTask::DoWork â”‚    â”‚FPBDRigidsSolver::                   â”‚ â”‚
â”‚  â”‚          (ë³´ë¼ìƒ‰)              â”‚    â”‚BufferPhysicsResults (ë¹¨ê°„ìƒ‰)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                â”‚                                         â”‚                     â”‚
â”‚                â–¼                                         â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚FPBDRigidsEvolutionGBF::        â”‚    â”‚FPBDRigidsSOAs::                     â”‚ â”‚
â”‚  â”‚AdvanceOneTimeStep (ë¹¨ê°„ìƒ‰)     â”‚    â”‚GetDirtyParticlesView (ë…¸ë€ìƒ‰)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚                     â”‚
â”‚                                                          â–¼                     â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                        â”‚FSingleParticlePhysicsProxy::       â”‚ â”‚
â”‚                                        â”‚BufferPhysicsResults (íŒŒë€ìƒ‰)       â”‚ â”‚
â”‚                                        â”‚                                     â”‚ â”‚
â”‚                                        â”‚ â€¢ Handle->X() â†’ BufferData.X       â”‚ â”‚
â”‚                                        â”‚ â€¢ Handle->V() â†’ BufferData.V       â”‚ â”‚
â”‚                                        â”‚ â€¢ Handle->R() â†’ BufferData.R       â”‚ â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚                     â”‚
â”‚                                                          â–¼                     â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                        â”‚FChaosMarshallingManager::          â”‚ â”‚
â”‚                                        â”‚PreparePullData (ë…¸ë€ìƒ‰)            â”‚ â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚                     â”‚
â”‚                                                          â–¼                     â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                        â”‚ Dirty Properties accumulated in    â”‚ â”‚
â”‚                                        â”‚ FPullPhysicsData (ë…¸ë€ìƒ‰ í‰í–‰ì‚¬ë³€í˜•)â”‚ â”‚
â”‚                                        â”‚                                     â”‚ â”‚
â”‚                                        â”‚  â€¢ Position, Velocity ë³€ê²½ì‚¬í•­     â”‚ â”‚
â”‚                                        â”‚  â€¢ ë¬¼ë¦¬ ìŠ¤ë ˆë“œ ê²°ê³¼ ëˆ„ì            â”‚ â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### EndFrame ë™ê¸°í™” ë‹¨ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Pull Data Flow (Part 2): EndFrame Synchronization                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                â”‚
â”‚  â”‚UWorld::Tick â”‚                                                                â”‚
â”‚  â”‚   (ë…¹ìƒ‰)    â”‚                                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                                â”‚
â”‚         â”‚                                                                        â”‚
â”‚         â–¼                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚RunTickGroup              â”‚          â”‚FPhysicsSolverBase::                 â”‚  â”‚
â”‚  â”‚(TG_EndPhysics) (ë…¹ìƒ‰)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚PullPhysicsStateForEachDirtyProxy_   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚External (ë¹¨ê°„ìƒ‰)                    â”‚  â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚                      â”‚
â”‚  â”‚FChaosScene::EndFrame     â”‚                           â”‚                      â”‚
â”‚  â”‚       (ë¹¨ê°„ìƒ‰)           â”‚                           â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â–¼                      â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚FChaosResultsManager::              â”‚  â”‚
â”‚  â”‚FChaosScene::SyncBodies   â”‚          â”‚PullSyncPhysicsResults (ë…¸ë€ìƒ‰)     â”‚  â”‚
â”‚  â”‚       (ë¹¨ê°„ìƒ‰)           â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚                      â”‚
â”‚                                                          â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚FPhysScene_Chaos::        â”‚          â”‚ Dirty Properties from              â”‚  â”‚
â”‚  â”‚OnSyncBodies (ë¹¨ê°„ìƒ‰)     â”‚          â”‚ FPullPhysicsData are assembled     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ for the next step                  â”‚  â”‚
â”‚                                        â”‚     (ë…¸ë€ìƒ‰ í‰í–‰ì‚¬ë³€í˜•)             â”‚  â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚                      â”‚
â”‚                                                          â–¼                      â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                        â”‚FSingleParticlePhysicsProxy::       â”‚  â”‚
â”‚                                        â”‚PullFromPhysicsState (íŒŒë€ìƒ‰)       â”‚  â”‚
â”‚                                        â”‚                                     â”‚  â”‚
â”‚                                        â”‚ â€¢ PullData.X â†’ Particle->SetX()    â”‚  â”‚
â”‚                                        â”‚ â€¢ PullData.V â†’ Particle->SetV()    â”‚  â”‚
â”‚                                        â”‚ â€¢ PullData.R â†’ Particle->SetR()    â”‚  â”‚
â”‚                                        â”‚ â€¢ ë³´ê°„ ì²˜ë¦¬ (Alpha)                â”‚  â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚                      â”‚
â”‚                                                          â–¼                      â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                        â”‚UPrimitiveComponent::               â”‚  â”‚
â”‚                                        â”‚MoveComponent (íŒŒë€ìƒ‰)              â”‚  â”‚
â”‚                                        â”‚                                     â”‚  â”‚
â”‚                                        â”‚ â€¢ ì‹¤ì œ ê²Œì„ ê°ì²´ ìœ„ì¹˜ ì—…ë°ì´íŠ¸     â”‚  â”‚
â”‚                                        â”‚ â€¢ OnComponentMoved ì´ë²¤íŠ¸ ë°œìƒ     â”‚  â”‚
â”‚                                        â”‚ â€¢ ë Œë”ë§ Transform ê°±ì‹             â”‚  â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ FBodyInstance::InitBody ì‹œí€€ìŠ¤

### ë¬¼ë¦¬ ë°”ë”” ì´ˆê¸°í™” íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FBodyInstance::InitBody Sequence Diagram                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  FBodyInstance    FInitBodiesHelperBase   UBodySetup   FPhysScene   FPBDRigids- â”‚
â”‚  ::InitBody            (ë³´ë¼ìƒ‰)            (ë³´ë¼ìƒ‰)     (ë¹¨ê°„ìƒ‰)    Solver(ë¹¨ê°•)â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚   InitBodies       â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ CreateShapes-     â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ AndActors         â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ CreatePhysics-    â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ Meshes            â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ CreateActor       â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ CreateShapes      â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚ AddShapesToRigidActor          â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚        AddActorsToScene        â”‚            â”‚       â”‚
â”‚      â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚   RegisterObject        â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚            â”‚       â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚     FChaosMarshal-  â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚     lingManager     â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚         â”‚          â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚  PushData::Dirty-  â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚  ProxiesDataBuffer â”‚
â”‚      â”‚                    â”‚                   â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚         â”‚          â”‚
â”‚      â”‚                    â”‚      RegisterForCollisionEventsâ”‚          â”‚          â”‚
â”‚      â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚          â”‚          â”‚
â”‚      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚            â”‚          â”‚          â”‚
â”‚      â”‚                    â”‚                   â”‚            â”‚          â”‚          â”‚
â”‚                                                                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  í•µì‹¬ ë‹¨ê³„:                                                                      â”‚
â”‚  1. InitBodies: FBodyInstance ì´ˆê¸°í™” ì‹œì‘                                       â”‚
â”‚  2. CreateShapesAndActors: ì¶©ëŒ í˜•ìƒ ë° ë¬¼ë¦¬ ì•¡í„° ìƒì„±                          â”‚
â”‚  3. CreatePhysicsMeshes: ë¬¼ë¦¬ ë©”ì‹œ ë°ì´í„° ìƒì„±                                  â”‚
â”‚  4. CreateActor: FGeometryParticle ìƒì„±                                         â”‚
â”‚  5. CreateShapes: FPerShapeData ì—”íŠ¸ë¦¬ ìƒì„±                                     â”‚
â”‚  6. AddShapesToRigidActor: í˜•ìƒì„ ì•¡í„°ì— ì—°ê²°                                   â”‚
â”‚  7. AddActorsToScene: ì”¬ì— ì•¡í„° ì¶”ê°€                                            â”‚
â”‚  8. RegisterObject: ì†”ë²„ì— í”„ë¡ì‹œ ë“±ë¡                                          â”‚
â”‚  9. PushData: ë§ˆìƒ¬ë§ ë²„í¼ì— ë“±ë¡                                                â”‚
â”‚  10. RegisterForCollisionEvents: ì¶©ëŒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡                        â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ì „ì²´ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Complete Physics Frame Sequence Diagram                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  FPhysScene  FPBDPhysics-  FChaosMarshal-  FPBDRigids-  FPBDRigidsEvol-         â”‚
â”‚              Solver        lingManager      SOAs         utionGBF                â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚ â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚ RunTickGroup(TG_StartPhysics)                                                    â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚ StartFrame â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚  OnStart-  â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚  Frame     â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚ Advance-   â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚ AndDispatchâ”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚ _External  â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ PushPhysics- â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ State        â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚   Get PushData::DirtyProxiesDataBuffer   â”‚                   â”‚
â”‚     â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚    FDirtyChaosProperties::SyncRemote     â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚ â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                        Physics Thread Execution                                  â”‚
â”‚ â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ ProcessPush- â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ Data         â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ ProcessPushedData_Internal â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚   Get PushData::DirtyProxiesDataBuffer   â”‚                   â”‚
â”‚     â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚   CreateStaticParticles, etc.                 â”‚
â”‚     â”‚            â”‚              â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚   FSingleParticlePhysicsProxy::PushToPhysicsState            â”‚
â”‚     â”‚            â”‚              â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ ApplyCallbacks_Internal    â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ AdvanceSolverâ”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ AdvanceSolverBy            â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ AdvanceOneTimeStepTask::DoWork            â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚    AdvanceOneTimeStep      â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚   GetActiveParticlesView   â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚   ParticleHandle Setters   â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”œâ”€ â”€ â”€ â”€ â”€ â”€ â–ºâ”‚ x = x + v * dt   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚ BufferPhysicsResults       â”‚              â”‚                   â”‚
â”‚     â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚   GetDirtyParticlesView    â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚    PhysicsProxy::BufferPhysicsResults     â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚ PreparePull-â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚ Data        â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚ â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚ RunTickGroup(TG_EndPhysics)                                                      â”‚
â”‚ â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚ EndFrame   â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚ OnSyncBodies              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚    PullPhysicsStateForEachDirtyProxy   â”‚              â”‚                   â”‚
â”‚     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚   PullSyncPhysicsResults_External        â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚     â”‚            â”‚   FSingleParticlePhysicsProxy::PullFromPhysicsState          â”‚
â”‚     â”‚            â”‚              â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚ UPrimitiveComponent::MoveComponent                                              â”‚
â”‚     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚                   â”‚
â”‚     â”‚            â”‚              â”‚             â”‚              â”‚                   â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ í•µì‹¬ ë°ì´í„° êµ¬ì¡°

### FPushPhysicsData (Game â†’ Physics)

```cpp
struct FPushPhysicsData
{
    // ì‹œê°„ ì •ë³´
    FReal StartTime;
    int32 NumSteps;

    // ë”í‹° í”„ë¡ì‹œ ë²„í¼
    FDirtyProxiesDataBuffer DirtyProxiesDataBuffer;

    // ì‹œë®¬ë ˆì´ì…˜ ì½œë°±
    TArray<ISimCallbackObject*> SimCallbackObjectsToAdd;

    // ì œê±°í•  ê°ì²´ë“¤
    TArray<IPhysicsProxyBase*> ProxiesToRemove;
};
```

### FPullPhysicsData (Physics â†’ Game)

```cpp
struct FPullPhysicsData
{
    // íƒ€ì„ìŠ¤íƒ¬í”„
    int32 SolverTimestamp;
    FReal SimStartTime;
    FReal DeltaTime;

    // ë”í‹° ë¦¬ì§€ë“œ íŒŒí‹°í´ ë°ì´í„°
    TArray<FDirtyRigidParticleData> DirtyRigids;

    // ë”í‹° Chaos ì†ì„±
    TArray<FDirtyChaosProperties> DirtyProperties;
};

struct FDirtyRigidParticleData
{
    FSingleParticlePhysicsProxy* Proxy;
    FVector X;      // Position
    FQuat R;        // Rotation
    FVector V;      // Linear Velocity
    FVector W;      // Angular Velocity
};
```

---

## ğŸ“Š ì„±ëŠ¥ íŠ¹ì„± ìš”ì•½

| í•­ëª© | ê°’/ì„¤ëª… |
|------|---------|
| **Physics Thread ì£¼ê¸°** | ê³ ì • 60Hz (16.67ms) |
| **ë°ì´í„° ì§€ì—°** | 1í”„ë ˆì„ (Double Buffering) |
| **ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒ** | SoA (Structure of Arrays) |
| **ë³‘ë ¬í™” ë°©ì‹** | Island ê¸°ë°˜ + Work Stealing |
| **ì¶©ëŒ ì•Œê³ ë¦¬ì¦˜** | AABBTree (BroadPhase) + GJK/EPA (NarrowPhase) |
| **ì œì•½ ì†”ë²„** | Position Based Dynamics (PBD) |
| **ë™ê¸°í™” ë°©ì‹** | Lock-Free Queue + Dirty Flag |

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [Chaos_Threading_And_Synchronization.md](./Chaos_Threading_And_Synchronization.md) - ìŠ¤ë ˆë“œ ë™ê¸°í™” ìƒì„¸
- [Chaos_Physics_Solver_And_Constraints_Deep_Dive.md](./Chaos_Physics_Solver_And_Constraints_Deep_Dive.md) - PBD Solver ìƒì„¸
- [Collision_And_SceneQuery.md](./Collision_And_SceneQuery.md) - ì¶©ëŒ ì‹œìŠ¤í…œ ìƒì„¸

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [itscai.us - UE Physics Framework](https://itscai.us/blog/post/ue-physics-framework/)
- [çŸ¥ä¹ - å›¾è§£Chaosæºç ](https://zhuanlan.zhihu.com/p/396697663)
- GitHub: Game-Development-Notes/å›¾è§£Chaosæºç .pdf

---

## ğŸ“ ë²„ì „ ì´ë ¥

- **v1.0** (2025-12-09): ì´ˆê¸° ì‘ì„±
  - ì „ì²´ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨
  - í•µì‹¬ í´ë˜ìŠ¤ 10ê°œ ìƒì„¸ ë¶„ì„
  - Physics Tick íë¦„ (TG_StartPhysics â†’ TG_EndPhysics)
  - Push/Pull ë°ì´í„° íë¦„ ì‹œê°í™”
  - AdvanceOneTimeStep ë‚´ë¶€ ë‹¨ê³„
  - FBodyInstance::InitBody ì‹œí€€ìŠ¤
  - ì „ì²´ í”„ë ˆì„ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨