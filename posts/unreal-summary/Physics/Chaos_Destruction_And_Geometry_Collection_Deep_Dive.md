---
title: "Chaos Destruction & Geometry Collection Deep Dive"
date: "2025-12-09"
status: "stable"
project: "UnrealEngine"
lang: "ko"
category: "unreal-summary"
track: "Physics"
tags: ["unreal", "Physics"]
engine_version: "Unreal Engine 5.7"
---
# Chaos Destruction & Geometry Collection Deep Dive

## ğŸ§­ ê°œìš” (Overview)

**Chaos Destruction**ì€ **Geometry Collection** ê¸°ë°˜ íŒŒê´´ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ê³„ì¸µì  í´ëŸ¬ìŠ¤í„°ë§, Strain ê¸°ë°˜ íŒŒê´´, Connection Graphë¥¼ í†µí•œ ì†ìƒ ì „íŒŒë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

### í•µì‹¬ ê°œë…

| ê°œë… | ì„¤ëª… |
|------|------|
| **Geometry Collection** | Fractureëœ ì¡°ê°ë“¤ì˜ ê³„ì¸µì  ì§‘í•© |
| **Clustering** | ì¡°ê°ë“¤ì„ ê·¸ë£¹í™”í•˜ì—¬ ê³„ì¸µì  íŒŒê´´ êµ¬í˜„ |
| **Strain** | íŒŒê´´ íŒì •ì„ ìœ„í•œ ì†ìƒ ê°’ |
| **Connection Graph** | ì¡°ê° ê°„ ì—°ê²° ê´€ê³„ ê·¸ë˜í”„ |
| **Internal Cluster** | ëŸ°íƒ€ì„ì— ìƒì„±ë˜ëŠ” ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° |
| **ClusterUnion** | ì—¬ëŸ¬ í´ëŸ¬ìŠ¤í„°ë¥¼ í†µí•©í•˜ëŠ” ìƒˆ ì‹œìŠ¤í…œ |

---

## ğŸ—ï¸ Destruction Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Chaos Destruction Architecture                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Static Mesh
       â”‚
       â†“ (Fracture Tool: Voronoi/Radial/Planar)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Geometry Collection Asset                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Hierarchical Structure:                                             â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚                    Root Cluster                                      â”‚  â”‚
â”‚  â”‚                    /    |    \                                       â”‚  â”‚
â”‚  â”‚              Cluster1  Cluster2  Cluster3                            â”‚  â”‚
â”‚  â”‚              /    \              /    \                              â”‚  â”‚
â”‚  â”‚          Leaf1  Leaf2      Leaf3  Leaf4                             â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  + Connection Graph (ì¸ì ‘ ì¡°ê° ê°„ ì—°ê²°)                              â”‚  â”‚
â”‚  â”‚  + Damage Thresholds (íŒŒê´´ ì„ê³„ê°’)                                   â”‚  â”‚
â”‚  â”‚  + Material Properties (ì¬ë£Œ ì†ì„±)                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ (Runtime)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UGeometryCollectionComponent                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                FGeometryCollectionPhysicsProxy                       â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  Game Thread â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Physics Thread          â”‚  â”‚
â”‚  â”‚       â”‚              Triple Buffer                  â”‚                â”‚  â”‚
â”‚  â”‚       â”‚                                             â”‚                â”‚  â”‚
â”‚  â”‚  GTParticles[]                          SolverParticleHandles[]     â”‚  â”‚
â”‚  â”‚  GameThreadCollection                   PhysicsThreadCollection      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ (Physics Simulation)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRigidClustering                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1. ProcessStrains() - Connectivity Edge í‰ê°€                        â”‚  â”‚
â”‚  â”‚  2. ReleaseClusterParticles() - íŒŒê´´ëœ ì¡°ê° í•´ì œ                    â”‚  â”‚
â”‚  â”‚  3. CreateInternalClusters() - ë‚¨ì€ ì¡°ê° ì¬ê·¸ë£¹í™”                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ ì£¼ìš” ì†ŒìŠ¤ íŒŒì¼

| íŒŒì¼ | ì—­í•  |
|------|------|
| `PhysicsProxy/GeometryCollectionPhysicsProxy.h:142` | Physics Proxy ë©”ì¸ í´ë˜ìŠ¤ |
| `Chaos/PBDRigidClustering.h:55` | í´ëŸ¬ìŠ¤í„°ë§ ì‹œìŠ¤í…œ |
| `Chaos/PBDRigidClusteredParticles.h:145` | í´ëŸ¬ìŠ¤í„° íŒŒí‹°í´ |
| `Chaos/ClusterUnionManager.h:85` | ClusterUnion ê´€ë¦¬ |
| `Chaos/ClusterCreationParameters.h:13` | í´ëŸ¬ìŠ¤í„° ìƒì„± ë§¤ê°œë³€ìˆ˜ |
| `Chaos/PBDRigidClusteringTypes.h:8` | ì†ìƒ ëª¨ë¸ ì •ì˜ |
| `GeometryCollection/GeometryCollectionConnectionGraphUtility.h:11` | Connection Graph ìƒì„± |

---

## ğŸ”· 1. FGeometryCollectionPhysicsProxy

### 1.1 í´ë˜ìŠ¤ êµ¬ì¡°

**ğŸ“‚ ìœ„ì¹˜:** `PhysicsProxy/GeometryCollectionPhysicsProxy.h:142`

```cpp
class FGeometryCollectionPhysicsProxy : public IPhysicsProxyBase
{
private:
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ìŠ¤ë ˆë“œë³„ ë°ì´í„°
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // Game Thread ì†Œìœ  ì»¬ë ‰ì…˜
    TSharedRef<FGeometryCollection> GameThreadCollection;

    // Physics Thread ë³µì‚¬ë³¸ (ë…ë¦½ì  ìˆ˜ì •)
    FGeometryDynamicCollection PhysicsThreadCollection;

    // Triple Buffer (Physics â†’ Game ê²°ê³¼)
    FGuardedTripleBuffer<FDirtyGeometryCollectionData> PhysToGameInterchange;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // íŒŒí‹°í´ í•¸ë“¤
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // Physics Thread íŒŒí‹°í´ í•¸ë“¤
    TArray<FClusterHandle*> SolverParticleHandles;

    // Game Thread íŒŒí‹°í´ ë°ì´í„°
    TArray<TUniquePtr<FParticle>> GTParticles;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì¸ë±ìŠ¤ ë§¤í•‘
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // Handle â†’ Transform Index
    TMap<FClusterHandle*, int32> HandleToTransformGroupIndex;

    // Transform Index â†’ Particle Index
    TArray<int32> FromTransformToParticleIndex;

    // Particle Index â†’ Transform Index
    TArray<int32> FromParticleToTransformIndex;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° ì¶”ì 
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // Internal Cluster ID â†’ Children Transform Indices
    TMap<int32, TArray<int32>> InternalClusterUniqueIdxToChildrenTransformIndices;

    // Internal Cluster ID â†’ Handle
    TMap<int32, FClusterHandle*> UniqueIdxToInternalClusterHandle;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì„¤ì •
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    FSimulationParameters Parameters;
    TUniquePtr<FFieldData> FieldData_Internal;

public:
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì´ˆê¸°í™”
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    void Initialize(Chaos::FPBDRigidsEvolutionBase* Evolution);
    void InitializeBodiesPT(
        Chaos::FPBDRigidsSolver* RigidsSolver,
        typename Chaos::FPBDRigidsSolver::FParticlesType& Particles);

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ë°ì´í„° ë™ê¸°í™”
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    void BufferGameState();           // GT â†’ PT
    void BufferPhysicsResults_Internal(...);  // PT â†’ GT
    bool PullFromPhysicsState(...);   // GTì—ì„œ ê²°ê³¼ pull

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // íŒŒê´´ API (External = GTì—ì„œ í˜¸ì¶œ)
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    void BreakClusters_External(TArray<FGeometryCollectionItemIndex>&& ItemIndices);
    void BreakActiveClusters_External();
    void DisableParticles_External(TArray<int32>&& TransformGroupIndices);

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Strain ì ìš© (External)
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    void ApplyExternalStrain_External(
        FGeometryCollectionItemIndex ItemIndex,
        const FVector& WorldLocation,
        float Radius,
        int32 PropagationDepth,
        float PropagationFactor,
        float StrainValue);

    void ApplyInternalStrain_External(
        FGeometryCollectionItemIndex ItemIndex,
        const FVector& WorldLocation,
        float Radius,
        int32 PropagationDepth,
        float PropagationFactor,
        float StrainValue);
};
```

### 1.2 FGeometryCollectionItemIndex

**ğŸ“‚ ìœ„ì¹˜:** `GeometryCollectionPhysicsProxy.h:40-115`

ë‚´ë¶€ í´ëŸ¬ìŠ¤í„°ì™€ ì¼ë°˜ ë³¸ì„ êµ¬ë¶„í•˜ëŠ” ì¶”ìƒí™”:

```cpp
struct FGeometryCollectionItemIndex
{
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // íŒ©í† ë¦¬ ë©”ì„œë“œ
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° í•­ëª© (ìŒìˆ˜ ë²”ìœ„)
    static FGeometryCollectionItemIndex CreateInternalClusterItemIndex(int32 ClusterUniqueIdx);

    // ì¼ë°˜ Transform í•­ëª© (ì–‘ìˆ˜ ë²”ìœ„)
    static FGeometryCollectionItemIndex CreateTransformItemIndex(int32 TransformIndex);

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // íƒ€ì… í™•ì¸
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    bool IsInternalCluster() const;
    int32 GetInternalClusterIndex() const;
    int32 GetTransformIndex() const;

private:
    // ì¸ì½”ë”©: InternalClusterBaseIndex = TNumericLimits<int32>::Lowest()
    // ë‚´ë¶€ í´ëŸ¬ìŠ¤í„°: BaseIndex + ClusterUniqueIdx (ë†’ì€ ìŒìˆ˜)
    // ì¼ë°˜ Transform: TransformIndex (0 ì´ìƒ)
    int32 Index;
};
```

---

## ğŸ”· 2. FRigidClustering (í´ëŸ¬ìŠ¤í„°ë§ ì‹œìŠ¤í…œ)

### 2.1 í´ë˜ìŠ¤ êµ¬ì¡°

**ğŸ“‚ ìœ„ì¹˜:** `Chaos/PBDRigidClustering.h:55`

```cpp
class FRigidClustering
{
public:
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // í´ëŸ¬ìŠ¤í„° ìƒì„± ë° ê´€ë¦¬
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // ìì‹ë“¤ë¡œë¶€í„° í´ëŸ¬ìŠ¤í„° ìƒì„±
    FPBDRigidClusteredParticleHandle* CreateClusterParticle(
        TArray<FPBDRigidParticleHandle*>& Children,
        const FClusterCreationParameters& Parameters);

    // í´ëŸ¬ìŠ¤í„°ì— íŒŒí‹°í´ ì¶”ê°€
    void AddParticlesToCluster(
        FPBDRigidClusteredParticleHandle* Cluster,
        TArray<FPBDRigidParticleHandle*>& Particles);

    // í´ëŸ¬ìŠ¤í„°ì—ì„œ íŒŒí‹°í´ ì œê±°
    void RemoveParticlesFromCluster(
        FPBDRigidClusteredParticleHandle* Cluster,
        TArray<FPBDRigidParticleHandle*>& Particles);

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // í´ëŸ¬ìŠ¤í„° í•´ì œ ë° ë¹„í™œì„±í™”
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // í´ëŸ¬ìŠ¤í„° ë¹„í™œì„±í™” (ëª¨ë“  ìì‹ í•´ì œ)
    TSet<FPBDRigidParticleHandle*> DeactivateClusterParticle(
        FPBDRigidClusteredParticleHandle* Cluster);

    // Strain ê¸°ë°˜ í´ëŸ¬ìŠ¤í„° í•´ì œ
    TSet<FPBDRigidParticleHandle*> ReleaseClusterParticles(
        TArrayView<FPBDRigidClusteredParticleHandle*> Clusters,
        bool bForceRelease = false);

    // ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° ì—†ì´ í•´ì œ
    TSet<FPBDRigidParticleHandle*> ReleaseClusterParticlesNoInternalCluster(
        FPBDRigidClusteredParticleHandle* Cluster);

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Strain ì²˜ë¦¬
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // Strain í‰ê°€ ë° íŒŒê´´ ì²˜ë¦¬
    void ProcessStrains();

    // í™œì„± ë¶€ëª¨ ì°¾ê¸°
    FPBDRigidClusteredParticleHandle* GetActiveParent(
        FPBDRigidParticleHandle* Particle);

private:
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ë‚´ë¶€ ë°ì´í„°
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    // í´ëŸ¬ìŠ¤í„° â†’ ìì‹ ë§¤í•‘
    TMap<FClusterHandle*, FRigidHandleArray> MChildren;

    // ìµœìƒìœ„ í´ëŸ¬ìŠ¤í„°
    TArray<FPBDRigidClusteredParticleHandle*> TopLevelClusterParents;

    // ClusterUnion ê´€ë¦¬ì
    FClusterUnionManager ClusterUnionManager;
};
```

### 2.2 í´ëŸ¬ìŠ¤í„° í•´ì œ ê³¼ì •

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Cluster Release Process                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Stage 1: ReleaseClusterParticles() í˜¸ì¶œ
           (Strain > Threshold ë˜ëŠ” ê°•ì œ í•´ì œ)
              â”‚
              â†“
  Stage 2: ReleaseClusterParticlesImpl() ì‹¤í–‰
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  1) í•´ì œí•  ìì‹ íŒŒí‹°í´ ì‹ë³„                                      â”‚
           â”‚  2) ë¶€ëª¨ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì œê±°                                       â”‚
           â”‚  3) ê° ìì‹ í™œì„±í™” (EnableParticle)                             â”‚
           â”‚  4) DeactivateClusterChildren ì²˜ë¦¬                              â”‚
           â”‚     â””â”€ true: ìì‹ ë¹„í™œì„±í™” í›„ ìƒˆ í´ëŸ¬ìŠ¤í„°ì— ì¶”ê°€               â”‚
           â”‚     â””â”€ false: ì¦‰ì‹œ í™œì„±í™”                                       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
  Stage 3: ì—°ê²°ì„± ì²˜ë¦¬
           HandleConnectivityOnReleaseClusterParticle()
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  í•´ì œëœ ìì‹ë“¤ì˜ ì¸í„°í´ëŸ¬ìŠ¤í„° ê°„ì„  ê²€ì‚¬:                         â”‚
           â”‚  - bCheckForInterclusterEdgesOnRelease = trueì¸ ê²½ìš°           â”‚
           â”‚  - IsInterclusterEdge() â†’ ë‹¤ë¥¸ ë¶€ëª¨ì˜ ìì‹ê³¼ ì—°ê²°?             â”‚
           â”‚    â””â”€ ìˆìœ¼ë©´: ê·¸ ë¶€ëª¨ì˜ ClusterUnionì— ì¶”ê°€                    â”‚
           â”‚    â””â”€ ì—†ìœ¼ë©´: ë…ë¦½ íŒŒí‹°í´ë¡œ ìœ ì§€                               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
  Stage 4: ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° ìƒì„± (bCreateNewClusters = true)
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  ì˜ˆ: ë¶€ëª¨ì— c1,c2,c3,c4 ìì‹ì´ ìˆì—ˆëŠ”ë° c1,c2ë§Œ í•´ì œ          â”‚
           â”‚  ë‚¨ì€ c3,c4ì˜ ì—°ê²° ìƒíƒœ:                                        â”‚
           â”‚    - ì—°ê²°ë¨ â†’ c3â†”c4ë¡œ ìƒˆ "ë‚´ë¶€ í´ëŸ¬ìŠ¤í„°" ìƒì„±                 â”‚
           â”‚    - ë¹„ì—°ê²° â†’ ê°ê° ë…ë¦½ íŒŒí‹°í´                                 â”‚
           â”‚                                                                  â”‚
           â”‚  ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° ì†ì„±:                                            â”‚
           â”‚    - bInternalCluster = true                                    â”‚
           â”‚    - ì›ë˜ ë¶€ëª¨ì˜ ìì‹ìœ¼ë¡œ ìœ ì§€                                  â”‚
           â”‚    - FGeometryCollectionItemIndexë¡œ ì¶”ì                         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”· 3. Strain ê¸°ë°˜ íŒŒê´´

### 3.1 ì†ìƒ ëª¨ë¸ (Damage Models)

**ğŸ“‚ ìœ„ì¹˜:** `Chaos/PBDRigidClusteringTypes.h:8-24`

```cpp
enum class EDamageEvaluationModel : uint8
{
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ëª¨ë¸ 1: ì‚¬ìš©ì ì •ì˜ ì„ê³„ê°’ ê¸°ë°˜
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    StrainFromDamageThreshold
    // - ë¹ ë¥¸ í‰ê°€
    // - ì„¸ë°€í•œ ì¡°ì • í•„ìš”
    // - DamageThreshold ê°’ ì§ì ‘ ì‚¬ìš©

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ëª¨ë¸ 2: ì¬ë£Œ ê°•ë„ ë° ì—°ê²°ì„± ê¸°ë°˜
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    StrainFromMaterialStrengthAndConnectivity
    // - í˜„ì‹¤ì 
    // - ì¬ë£Œ ê¸°ë°˜ íŠœë‹ ìš©ì´
    // - Strain = ì¬ë£Œ ê°•ë„ Ã— ì—°ê²° ë©´ì 
};
```

### 3.2 Strain ì²˜ë¦¬ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Strain Processing Flow                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  1. ì¶©ëŒ ê°ì§€ (Collision Detection)                                             â”‚
â”‚     â†“                                                                            â”‚
â”‚  2. ì¶©ëŒ ì„í„ìŠ¤ ê³„ì‚° (Collision Impulse)                                        â”‚
â”‚     â”‚                                                                            â”‚
â”‚     â”œâ”€â†’ CollisionImpulses[ParticleIndex] += impulse                             â”‚
â”‚     â”‚                                                                            â”‚
â”‚     â””â”€â†’ ComputeClusterCollisionStrains()                                        â”‚
â”‚         ê° í´ëŸ¬ìŠ¤í„° ìì‹ì˜ Strainì— ë¶€ì—¬                                        â”‚
â”‚                                                                                  â”‚
â”‚  3. í•„ë“œ ì‹œìŠ¤í…œ ì†ìƒ ì ìš© (Field Forces)                                        â”‚
â”‚     â”‚                                                                            â”‚
â”‚     â”œâ”€â†’ ApplyExternalStrain_External()                                          â”‚
â”‚     â”‚   ë°˜ê²½ ë‚´ íŒŒí‹°í´ì— ì™¸ë¶€ ì†ìƒ ì ìš©                                         â”‚
â”‚     â”‚                                                                            â”‚
â”‚     â””â”€â†’ ApplyInternalStrain_External()                                          â”‚
â”‚         Connection Graphë¥¼ í†µí•œ ë‚´ë¶€ ì†ìƒ ì „íŒŒ                                  â”‚
â”‚         PropagationDepthë§Œí¼ ê¹Šì´ ì§„í–‰                                          â”‚
â”‚         PropagationFactorë¡œ ê°ì‡                                                 â”‚
â”‚                                                                                  â”‚
â”‚  4. Strain ì„ê³„ê°’ í‰ê°€ (ProcessStrains)                                         â”‚
â”‚     â†“                                                                            â”‚
â”‚     for each Cluster:                                                           â”‚
â”‚       for each ConnectivityEdge in Cluster:                                     â”‚
â”‚         if (Particle.Strain > Edge.Strain):                                     â”‚
â”‚             ReleaseClusterParticles()  // ì—°ê²° íŒŒê´´                             â”‚
â”‚                                                                                  â”‚
â”‚             if (bDamagePropagation):   // ì†ìƒ ì „íŒŒ                             â”‚
â”‚                 PropagateStrain(BreakDamagePropagationFactor)                   â”‚
â”‚                 PropagateStrain(ShockDamagePropagationFactor)                   â”‚
â”‚                                                                                  â”‚
â”‚  5. ë‚´ë¶€ í´ëŸ¬ìŠ¤í„° ìƒì„± (ì¼ë¶€ ìì‹ì´ ë‚¨ìœ¼ë©´)                                     â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ì†ìƒ ì „íŒŒ (Damage Propagation)

**ğŸ“‚ ìœ„ì¹˜:** `GeometryCollection/GeometryCollectionDamagePropagationData.h:7-24`

```cpp
struct FGeometryCollectionDamagePropagationData
{
    bool bEnabled = true;  // ì „ì²´ í™œì„±í™”

    // íŒŒê´´ ì‹œ ë‹¤ìŒ ì¡°ê°ìœ¼ë¡œ ì „íŒŒ ë¹„ìœ¨
    float BreakDamagePropagationFactor = 1.0f;
    // ì˜ˆ: 1.0 = 100% ì „íŒŒ (ì—°ì‡„ íŒŒê´´)
    //     0.5 = 50% ê°ì‡ 

    // ì¶©ê²© ì‹œ ìƒì¡´ ì¡°ê°ìœ¼ë¡œ ì „íŒŒ ë¹„ìœ¨
    float ShockDamagePropagationFactor = 0.0f;
    // ì˜ˆ: 0.0 = ì „íŒŒ ì—†ìŒ
    //     0.3 = ì•½ê°„ì˜ ì¶©ê²©íŒŒ ì „íŒŒ
};
```

### ì†ìƒ ì „íŒŒ ì‹œê°í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Damage Propagation Visualization                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  ì´ˆê¸° ìƒíƒœ:                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ A  â”‚ B  â”‚ C  â”‚ D  â”‚ E  â”‚  â† ì—°ê²°ëœ ì¡°ê°ë“¤                                   â”‚
â”‚  â”‚ 0  â”‚ 0  â”‚ 0  â”‚ 0  â”‚ 0  â”‚  â† Strain ê°’                                       â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                                  â”‚
â”‚  ì¶©ê²© ì ìš© (Bì— Strain=100):                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ A  â”‚ B  â”‚ C  â”‚ D  â”‚ E  â”‚                                                    â”‚
â”‚  â”‚ 0  â”‚100 â”‚ 0  â”‚ 0  â”‚ 0  â”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                                  â”‚
â”‚  B íŒŒê´´ (Threshold=80), BreakFactor=0.5:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ A  â”‚    â”‚ C  â”‚ D  â”‚ E  â”‚  â† B ì œê±°ë¨                                        â”‚
â”‚  â”‚ 50 â”‚    â”‚ 50 â”‚ 0  â”‚ 0  â”‚  â† ì¸ì ‘ ì¡°ê°ì— 50 ì „íŒŒ                             â”‚
â”‚  â””â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                                  â”‚
â”‚  A íŒŒê´´ (Threshold=40), C ìƒì¡´ (Threshold=80):                                 â”‚
â”‚       â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”                                                          â”‚
â”‚       â”‚ C  â”‚ D  â”‚ E  â”‚  â† A ì œê±°ë¨                                              â”‚
â”‚       â”‚ 50 â”‚25  â”‚ 0  â”‚  â† C ìƒì¡´, Dì— ShockFactor=0.5ë¡œ 25 ì „íŒŒ                â”‚
â”‚       â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜                                                          â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”· 4. Connection Graph

### 4.1 Connection Graph êµ¬ì¡°

**ğŸ“‚ ìœ„ì¹˜:** `GeometryCollection/GeometryCollectionConnectionGraphUtility.h:11-31`

```cpp
class FGeometryCollectionConnectionGraphGenerator
{
public:
    // ì—°ê²°ì„± ê·¸ë˜í”„ ì—…ë°ì´íŠ¸
    static void UpdateConnectivityGraph(
        FGeometryCollection& Collection,
        int32 ClusterTransformIndex,
        EClusterUnionMethod ConnectionMethod);

private:
    using FConnections = TSet<int32>;
    using FConnectionGraph = TArray<FConnections>;

    // Delaunay ì‚¼ê°ë¶„í•  ê¸°ë°˜ ì—°ê²°ì„±
    static FConnectionGraph ComputeConnectivityGraph(
        const FGeometryCollection& Collection,
        int32 ClusterTransformIndex,
        EClusterUnionMethod ConnectionMethod);
};
```

### 4.2 Connection Method

**ğŸ“‚ ìœ„ì¹˜:** `Chaos/ClusterCreationParameters.h:15-22`

```cpp
enum EConnectionMethod
{
    PointImplicit,                              // ìµœì†Œ ê±°ë¦¬ ê¸°ë°˜
    DelaunayTriangulation,                      // Delaunay ì‚¼ê°ë¶„í•  (ì™„ì „)
    MinimalSpanningSubsetDelaunayTriangulation, // Delaunay ë¶€ë¶„ì§‘í•© (ê¸°ë³¸ê°’)
    PointImplicitAugmentedWithMinimalDelaunay,  // ì¡°í•© ë°©ì‹
    BoundsOverlapFilteredDelaunayTriangulation, // ë°”ìš´ë”©ë°•ìŠ¤ í•„í„° + Delaunay
    None                                        // ì—°ê²° ì—†ìŒ
};
```

### 4.3 Connectivity Edge

**ğŸ“‚ ìœ„ì¹˜:** `Chaos/PBDRigidClusteredParticles.h:46-76`

```cpp
template <typename T>
struct TConnectivityEdge
{
    // ì—°ê²°ëœ íŒŒí‹°í´
    TPBDRigidParticleHandle<T, 3>* Sibling;

    // íŒŒê´´ ì„ê³„ê°’ (ë˜ëŠ” ì—°ê²° ë©´ì )
    Chaos::FRealSingle Strain;

    // ì´ì¤‘ ìš©ë„ (ì†ìƒ ëª¨ë¸ì— ë”°ë¼):
    // - StrainFromDamageThreshold: Strain = íŒŒê´´ ì„ê³„ê°’
    // - StrainFromMaterialStrengthAndConnectivity: Strain = ì—°ê²° ë©´ì 

    void SetArea(Chaos::FRealSingle Area) { Strain = Area; }
    Chaos::FRealSingle GetArea() const { return Strain; }
};

// í´ëŸ¬ìŠ¤í„° ê°„ ê°„ì„  í™•ì¸
template<typename T>
bool IsInterclusterEdge(
    const TPBDRigidParticleHandle<T, 3>& Particle,
    const TConnectivityEdge<T>& Edge)
{
    return Particle.Parent() != Edge.Sibling->Parent();
}
```

### Connection Graph ì‹œê°í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Connection Graph Example                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  í´ëŸ¬ìŠ¤í„° ì¡°ê° ë°°ì¹˜:                                                            â”‚
â”‚                                                                                  â”‚
â”‚       â”Œâ”€â”€â”€â”                                                                      â”‚
â”‚       â”‚ 1 â”‚                                                                      â”‚
â”‚       â””â”€â”¬â”€â”˜                                                                      â”‚
â”‚     â”Œâ”€â”€â”€â”¼â”€â”€â”€â”                                                                    â”‚
â”‚   â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”                                                                  â”‚
â”‚   â”‚ 2 â”‚â”€â”€â”€â”‚ 3 â”‚                                                                  â”‚
â”‚   â””â”€â”¬â”€â”˜   â””â”€â”¬â”€â”˜                                                                  â”‚
â”‚   â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”                                                                  â”‚
â”‚   â”‚ 4 â”‚â”€â”€â”€â”‚ 5 â”‚                                                                  â”‚
â”‚   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜                                                                  â”‚
â”‚                                                                                  â”‚
â”‚  Connection Edges (Delaunay):                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ Edge   â”‚ Strain/Area â”‚ Type     â”‚                                            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚  â”‚ 1 â†” 2  â”‚    50.0     â”‚ ì•½í•œ    â”‚                                            â”‚
â”‚  â”‚ 1 â†” 3  â”‚    50.0     â”‚ ì•½í•œ    â”‚                                            â”‚
â”‚  â”‚ 2 â†” 3  â”‚   100.0     â”‚ ì¤‘ê°„    â”‚                                            â”‚
â”‚  â”‚ 2 â†” 4  â”‚   150.0     â”‚ ê°•í•¨    â”‚                                            â”‚
â”‚  â”‚ 3 â†” 5  â”‚   150.0     â”‚ ê°•í•¨    â”‚                                            â”‚
â”‚  â”‚ 4 â†” 5  â”‚   100.0     â”‚ ì¤‘ê°„    â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                                  â”‚
â”‚  íŒŒê´´ ì‹œë®¬ë ˆì´ì…˜:                                                               â”‚
â”‚  1. ì¡°ê° 1ì— Strain=60 ì ìš©                                                     â”‚
â”‚  2. Edge 1â†”2 íŒŒê´´ (60 > 50) â†’ ì¡°ê° 2 ë¶„ë¦¬                                      â”‚
â”‚  3. ì†ìƒ ì „íŒŒ â†’ ì¡°ê° 2ì˜ ì´ì›ƒì— Strain ì¶”ê°€                                    â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”· 5. ClusterUnion ì‹œìŠ¤í…œ

### 5.1 FClusterUnion êµ¬ì¡°

**ğŸ“‚ ìœ„ì¹˜:** `Chaos/ClusterUnionManager.h:85`

ì—¬ëŸ¬ í´ëŸ¬ìŠ¤í„°ë¥¼ í†µí•©í•˜ëŠ” ìƒˆ ì‹œìŠ¤í…œ:

```cpp
struct FClusterUnion
{
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // í•µì‹¬ êµ¬ì¡°
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    FPBDRigidClusteredParticleHandle* InternalCluster;  // ë£¨íŠ¸ í´ëŸ¬ìŠ¤í„°
    Chaos::FImplicitObjectPtr Geometry;                 // ì¶©ëŒ ì§€ì˜¤ë©”íŠ¸ë¦¬
    TArray<FPBDRigidParticleHandle*> ChildParticles;   // ëª¨ë“  ìì‹

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // íŒŒí‹°í´ë³„ ì†ì„±
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    TMap<FPBDRigidParticleHandle*, FClusterUnionParticleProperties> ChildProperties;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì‹ë³„ì
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    FClusterUnionIndex InternalIndex;
    FClusterUnionExplicitIndex ExplicitIndex;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì„¤ì •
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    FClusterCreationParameters Parameters;
    FClusterUnionCreationParameters ClusterUnionParameters;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ìƒíƒœ í”Œë˜ê·¸
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    bool bNeedsXRInitialization : 1;
    bool bAnchorLock : 1;
    bool bCheckConnectivity : 1;
    bool bGenerateConnectivityEdges : 1;
    bool bGeometryModified : 1;

    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ëŒ€ê¸° ì‘ì—…
    //â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    TArray<TPair<FPBDRigidParticleHandle*, EClusterUnionConnectivityOperation>>
        PendingConnectivityOperations;
    TMap<EClusterUnionGeometryOperation, TArray<FPBDRigidParticleHandle*>>
        PendingGeometryOperations;
};
```

---

## ğŸ”· 6. ëŸ°íƒ€ì„ íŒŒí¸ ìƒì„±

### 6.1 ì´ˆê¸°í™” íë¦„

```cpp
// InitializeBodiesPT() - Physics Threadì—ì„œ í˜¸ì¶œ
void FGeometryCollectionPhysicsProxy::InitializeBodiesPT(...)
{
    // 1. ëª¨ë“  ë¦¬í”„ ë…¸ë“œ íŒŒí‹°í´ ìƒì„±
    CreateNonClusteredParticles();

    // 2. ê³„ì¸µì  í´ëŸ¬ìŠ¤í„° ìƒì„± (ìƒí–¥ì‹)
    CreateClusterParticles();
    // MaxSimulatedLevelê¹Œì§€ë§Œ ìƒì„±
}
```

### 6.2 íŒŒí¸ ìƒíƒœ ì¶”ì 

```cpp
// Transform State Array
struct FGeometryCollectionResults
{
    // í”„ë ˆì„ì—ì„œ ë³€ê²½ëœ Transform ì¸ë±ìŠ¤ë“¤
    TArray<int32> ModifiedTransformIndices;

    // íŒŒí‹°í´ ìƒíƒœ
    enum EObjectStateType
    {
        Active,     // ë™ì  ì‹œë®¬ë ˆì´ì…˜ ì¤‘
        Disabled,   // ì •ì§€ (GC ì•ˆì „)
        Kinematic,  // ìˆ˜ë™ ì œì–´
        Static      // ê³ ì •
    };

    // Transform ë°ì´í„°
    TArray<FTransform> Transforms;
    TArray<FVector> Velocities;
    TArray<FVector> AngularVelocities;

    // ë£¨íŠ¸ íŒŒê´´ ì—¬ë¶€
    bool IsRootBroken;
};
```

---

## ğŸ’» ì‚¬ìš© ì˜ˆì‹œ

### Blueprintì—ì„œ íŒŒê´´ íŠ¸ë¦¬ê±°

```cpp
// Geometry Collection Component
UGeometryCollectionComponent* GC = ...;

// ë°˜ê²½ ë‚´ íŒŒê´´
GC->ApplyKinematicField(
    /*Radius=*/ 500.0f,
    /*Strength=*/ 1000.0f
);

// íŠ¹ì • ìœ„ì¹˜ì— Strain ì ìš©
GC->ApplyExternalStrain(
    WorldLocation,
    /*Radius=*/ 200.0f,
    /*PropagationDepth=*/ 3,
    /*PropagationFactor=*/ 0.5f,
    /*StrainValue=*/ 1000.0f
);

// Break ì´ë²¤íŠ¸ ìˆ˜ì‹ 
GC->OnChaosBreakEvent.AddDynamic(this, &AMyActor::OnBreak);

void OnBreak(const FChaosBreakEvent& Event)
{
    // íŒŒí¸ ì •ë³´
    Event.Location;      // íŒŒê´´ ìœ„ì¹˜
    Event.Velocity;      // ì†ë„
    Event.Mass;          // ì§ˆëŸ‰

    // VFX, ì‚¬ìš´ë“œ ì¬ìƒ ë“±
}
```

### C++ì—ì„œ ê³ ê¸‰ ì œì–´

```cpp
// Physics Proxy ì§ì ‘ ì ‘ê·¼
FGeometryCollectionPhysicsProxy* Proxy = GC->GetPhysicsProxy();

// íŠ¹ì • ì¡°ê° íŒŒê´´
TArray<FGeometryCollectionItemIndex> ItemsToBreak;
ItemsToBreak.Add(FGeometryCollectionItemIndex::CreateTransformItemIndex(5));
Proxy->BreakClusters_External(MoveTemp(ItemsToBreak));

// ëª¨ë“  í™œì„± í´ëŸ¬ìŠ¤í„° íŒŒê´´
Proxy->BreakActiveClusters_External();

// ì¡°ê° ë¹„í™œì„±í™”
TArray<int32> TransformIndicesToDisable = {1, 2, 3};
Proxy->DisableParticles_External(MoveTemp(TransformIndicesToDisable));
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### Damage Threshold íŠœë‹

```cpp
// ë¹ ë¥¸ íŒŒê´´ (ë‚®ì€ ì„ê³„ê°’)
DamageThreshold = 100.0f;
// - ì‘ì€ ì¶©ê²©ì—ë„ íŒŒê´´
// - ë” ë§ì€ íŒŒí¸ ìƒì„±
// - ì„±ëŠ¥ ì˜í–¥

// ê²¬ê³ í•œ êµ¬ì¡° (ë†’ì€ ì„ê³„ê°’)
DamageThreshold = 10000.0f;
// - í° ì¶©ê²©ì—ë§Œ íŒŒê´´
// - ì ì€ íŒŒí¸
// - ì„±ëŠ¥ íš¨ìœ¨ì 
```

### Clustering ìµœì í™”

```cpp
// ì ì ˆí•œ í´ëŸ¬ìŠ¤í„° í¬ê¸°
// - ë„ˆë¬´ ì‘ìŒ: ê³¼ë„í•œ í´ëŸ¬ìŠ¤í„° ìˆ˜
// - ë„ˆë¬´ í¼: ì„¸ë°€í•œ íŒŒê´´ ë¶ˆê°€

// ê¶Œì¥: 10-50ê°œ ì¡°ê°/í´ëŸ¬ìŠ¤í„°
ClusterGroupIndex = ...;
MaxClusterSize = 50;
```

### Connection Method ì„ íƒ

```cpp
// ì„±ëŠ¥ ìš°ì„ 
EConnectionMethod::PointImplicit
// - ë¹ ë¥¸ ê³„ì‚°
// - ë‹¨ìˆœí•œ ì—°ê²°

// í’ˆì§ˆ ìš°ì„ 
EConnectionMethod::DelaunayTriangulation
// - ì •í™•í•œ ì¸ì ‘ ê´€ê³„
// - ê³„ì‚° ë¹„ìš© ë†’ìŒ

// ê· í˜• (ê¸°ë³¸ê°’)
EConnectionMethod::MinimalSpanningSubsetDelaunayTriangulation
// - Delaunay ë¶€ë¶„ì§‘í•©
// - ì ì ˆí•œ í’ˆì§ˆê³¼ ì„±ëŠ¥
```

---

## ğŸ’¡ ë””ë²„ê¹… Tips

### ì‹œê°í™” ëª…ë ¹ì–´

```bash
# Geometry Collection ì‹œê°í™”
p.Chaos.GC.Debug.ShowBoneColors 1
p.Chaos.GC.Debug.ShowConnections 1

# Cluster ì‹œê°í™”
p.Chaos.Clustering.Debug 1

# Strain ì‹œê°í™”
p.Chaos.GC.Debug.ShowStrains 1
```

### ì¼ë°˜ì ì¸ ë¬¸ì œ

| ë¬¸ì œ | ì›ì¸ | í•´ê²° |
|------|------|------|
| íŒŒê´´ê°€ ì•ˆë¨ | DamageThreshold ë„ˆë¬´ ë†’ìŒ | ê°’ ë‚®ì¶”ê¸° |
| ë„ˆë¬´ ì‰½ê²Œ íŒŒê´´ | DamageThreshold ë„ˆë¬´ ë‚®ìŒ | ê°’ ë†’ì´ê¸° |
| ì—°ì‡„ íŒŒê´´ ì—†ìŒ | DamagePropagation ë¹„í™œì„±í™” | Factor > 0 ì„¤ì • |
| ì„±ëŠ¥ ì €í•˜ | ê³¼ë„í•œ íŒŒí¸ ìˆ˜ | MaxSimulatedLevel ì œí•œ |

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [FieldSystem.md](FieldSystem.md) - Field System (í­ë°œ, í˜ ì ìš©)
- [Chaos_Complete_Architecture.md](Chaos_Complete_Architecture.md) - Chaos ì „ì²´ êµ¬ì¡°
- [Chaos_Island_And_Sleep_System.md](Chaos_Island_And_Sleep_System.md) - Island/Sleep ì‹œìŠ¤í…œ

---

## ğŸ“ ë²„ì „ ì´ë ¥

- **v1.0** (2025-01-22): ì´ˆê¸° ì‘ì„± - ê¸°ë³¸ ê°œë…
- **v2.0** (2025-12-09): ëŒ€ê·œëª¨ ì—…ë°ì´íŠ¸
  - FGeometryCollectionPhysicsProxy ìƒì„¸ ë¶„ì„
  - FRigidClustering í´ëŸ¬ìŠ¤í„°ë§ ì‹œìŠ¤í…œ
  - Strain ê¸°ë°˜ íŒŒê´´ ë¡œì§
  - Connection Graph êµ¬ì¡°
  - ClusterUnion ì‹œìŠ¤í…œ
  - ëŸ°íƒ€ì„ íŒŒí¸ ìƒì„± íë¦„
  - ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ