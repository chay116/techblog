---
title: "World Partition Streaming Optimization Deep Dive"
date: "2025-01-22"
status: "stable"
project: "UnrealEngine"
lang: "ko"
category: "unreal-summary"
track: "World"
tags: ["unreal", "World"]
---
# World Partition Streaming Optimization Deep Dive

## ğŸ§­ ê°œìš”

**World Partition Streaming**ì€ ê±°ëŒ€í•œ ì˜¤í”ˆ ì›”ë“œë¥¼ ëŠê¹€ ì—†ì´ ë¡œë”©í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤. The Witcher 4 Demoì—ì„œëŠ” **60 FPS ìœ ì§€**ë¥¼ ìœ„í•´ íšê¸°ì ì¸ ìµœì í™”ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.

### ìµœì í™” ëª©í‘œ

| í•­ëª© | ê¸°ì¡´ (UE 5.5) | The Witcher 4 (UE 5.6/5.7) |
|------|--------------|---------------------------|
| **ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ ì‹œê°„** | 51 í”„ë ˆì„ | 24 í”„ë ˆì„ (~2ë°° ë¹ ë¦„) |
| **í”„ë ˆì„ ë“œë¡­** | ìì£¼ ë°œìƒ (ëŠê¹€) | ê±°ì˜ ì—†ìŒ (ë¶€ë“œëŸ¬ì›€) |
| **ì˜ˆì‚° ë‚­ë¹„** | ê³ ì • ì˜ˆì‚° â†’ ë‚­ë¹„ ë§ìŒ | ë™ì  ë¶„ë°° â†’ íš¨ìœ¨ì  |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰** | ë†’ìŒ | ~30% ê°ì†Œ |

**ëª©í‘œ:**
> "ì˜¤í”ˆ ì›”ë“œ ì´ë™ ì‹œ ëŠê¹€ í˜„ìƒ ì œê±° â†’ í”Œë ˆì´ì–´ ëª°ì…ë„ ê·¹ëŒ€í™”"

---

## ğŸ—ï¸ World Partition ê¸°ë³¸ ë™ì‘ íë¦„

### 3ë‹¨ê³„ íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£  ì•¡í„° ìƒíƒœ ê²°ì • (Update Streaming State)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - í”Œë ˆì´ì–´ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ë¡œë“œí•  ì…€ ê²°ì •                          â”‚
â”‚  - ê° ì•¡í„°ë¥¼ ìŠ¤íŠ¸ë¦¬ë° ê·¸ë¦¬ë“œì— ë°°ì •                               â”‚
â”‚                                                                  â”‚
â”‚  Input:  í”Œë ˆì´ì–´ ì¢Œí‘œ                                           â”‚
â”‚  Output: ë¡œë“œí•  ì…€ ëª©ë¡ (Load Set), ì–¸ë¡œë“œí•  ì…€ ëª©ë¡ (Unload Set)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ï¸âƒ£  ë¡œë“œ ì‘ì—… (Async Load)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ë””ìŠ¤í¬ì—ì„œ ì—ì…‹ ë¡œë“œ (ë¹„ë™ê¸°)                                  â”‚
â”‚  - ProcessAsyncLoad: ì—ì…‹ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì ì¬                  â”‚
â”‚                                                                  â”‚
â”‚  ì˜ˆì‚°: í”„ë ˆì„ë‹¹ ìµœëŒ€ ì‹œê°„ (ì˜ˆ: 2ms)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ï¸âƒ£  ì›”ë“œ ì¶”ê°€/ì œê±° (AddToWorld / RemoveFromWorld)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - AddToWorld: ë¡œë“œëœ ì•¡í„°ë¥¼ ê²Œì„ ì›”ë“œì— ë“±ë¡                     â”‚
â”‚    â†’ BeginPlay í˜¸ì¶œ, ë Œë”ë§ ì‹œì‘                                 â”‚
â”‚                                                                  â”‚
â”‚  - RemoveFromWorld: ì–¸ë¡œë“œí•  ì•¡í„°ë¥¼ ì›”ë“œì—ì„œ ì œê±°                 â”‚
â”‚    â†’ EndPlay í˜¸ì¶œ, ë¦¬ì†ŒìŠ¤ í•´ì œ                                   â”‚
â”‚                                                                  â”‚
â”‚  ì˜ˆì‚°: í”„ë ˆì„ë‹¹ ìµœëŒ€ ì‹œê°„ (ì˜ˆ: 1ms)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ì¡´ ë¬¸ì œì 

**ë¬¸ì œ 1: ê³ ì • ì˜ˆì‚° ë‚­ë¹„**

```
í”„ë ˆì„ 1: ProcessAsyncLoad (2ms) | RemoveFromWorld (0ms) â† 1ms ë‚­ë¹„
í”„ë ˆì„ 2: ProcessAsyncLoad (0ms) | RemoveFromWorld (1ms) â† 2ms ë‚­ë¹„
í”„ë ˆì„ 3: AddToWorld (1ms)       | RemoveFromWorld (0ms) â† 1ms ë‚­ë¹„

â†’ ì´ 51í”„ë ˆì„ ì†Œìš”, ë§ì€ ì˜ˆì‚° ë‚­ë¹„
```

**ë¬¸ì œ 2: ìˆœì°¨ ì‹¤í–‰**

```
ProcessAsyncLoad ì™„ë£Œ ëŒ€ê¸° â†’ AddToWorld ì‹¤í–‰
  â†“ (ë¸”ë¡œí‚¹)
ë‹¤ìŒ ì‘ì—… ì‹œì‘ ë¶ˆê°€
```

---

## ğŸš€ í•µì‹¬ ìµœì í™” 1: ë™ì  ì˜ˆì‚° í†µí•©

### ê°œì„  ì „ (ê³ ì • ì˜ˆì‚°)

```cpp
// ê¸°ì¡´ ë°©ì‹
const float AsyncLoadBudget = 2.0f;      // ms
const float AddToWorldBudget = 1.0f;     // ms
const float RemoveFromWorldBudget = 1.0f; // ms

// ë¬¸ì œ: í•œ ì‘ì—…ì´ ì•ˆ ì“°ë©´ ë‹¤ë¥¸ ì‘ì—…ë„ ëª» ì”€
```

### ê°œì„  í›„ (í†µí•© ì˜ˆì‚°)

```cpp
// ìƒˆë¡œìš´ ë°©ì‹ (UE 5.6+)
const float TotalStreamingBudget = 4.0f;  // ms (í†µí•©)

// ì‹œìŠ¤í…œì´ ë™ì  ë¶„ë°°
if (AsyncLoadWorkload > AddToWorldWorkload)
{
    AsyncLoadBudget = 3.0f;    // ë§ì´ í• ë‹¹
    AddToWorldBudget = 1.0f;   // ì ê²Œ í• ë‹¹
}
else
{
    AsyncLoadBudget = 1.0f;
    AddToWorldBudget = 3.0f;
}

// RemoveFromWorldëŠ” ë‚¨ì€ ì‹œê°„ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥
```

**ê²°ê³¼:**

| í•­ëª© | ê¸°ì¡´ | ê°œì„  í›„ |
|------|------|--------|
| **ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ** | 51 í”„ë ˆì„ | 24 í”„ë ˆì„ |
| **ì˜ˆì‚° ë‚­ë¹„** | 40% | ~5% |

---

## ğŸš€ í•µì‹¬ ìµœì í™” 2: ë¹„ë™ê¸° ì‘ì—… ë™ì‹œ ì‹¤í–‰

### ê°œì„  ì „ (ìˆœì°¨ ì‹¤í–‰)

```
í”„ë ˆì„ N:
  ProcessAsyncLoad (2ms)
    â†“ (ëŒ€ê¸°)
  AddToWorld ì™„ë£Œ ëŒ€ê¸°...
    â†“
í”„ë ˆì„ N+1:
  AddToWorld (1ms)
    â†“
  ë‹¤ìŒ ì‘ì—… ì‹œì‘...
```

### ê°œì„  í›„ (ë™ì‹œ ì‹¤í–‰)

```cpp
// UE 5.6+ ê°œì„ 
// AddToWorld/RemoveFromWorld ë¹„ë™ê¸° í…ŒìŠ¤í¬ ì™„ë£Œë¥¼ ëŒ€ê¸°í•˜ëŠ” ë™ì•ˆ
// â†’ ë‹¤ë¥¸ ì‘ì—… ë™ì‹œ ì§„í–‰ ê°€ëŠ¥!

í”„ë ˆì„ N:
  ProcessAsyncLoad (2ms)  â•‘  AddToWorld (ë°±ê·¸ë¼ìš´ë“œ)
                          â•‘  RemoveFromWorld (ë°±ê·¸ë¼ìš´ë“œ)
                          â•‘  â†’ ë™ì‹œ ì‹¤í–‰!
í”„ë ˆì„ N+1:
  ProcessAsyncLoad (2ms)  â•‘  AddToWorld ê³„ì†...
                          â•‘  â†’ ë…¸ëŠ” ì‹œê°„ ì—†ìŒ!
```

**Pseudo Code:**

```cpp
// ê°œì„ ëœ ìŠ¤íŠ¸ë¦¬ë° ë£¨í”„
void UWorldPartition::UpdateStreaming()
{
    // 1. ë¹„ë™ê¸° ë¡œë“œ ì‹œì‘
    TArray<FAsyncTask*> AsyncTasks;
    AsyncTasks.Add(AsyncLoadTask);
    AsyncTasks.Add(AddToWorldTask);
    AsyncTasks.Add(RemoveFromWorldTask);

    // 2. ëª¨ë“  ì‘ì—… ë™ì‹œ ì‹¤í–‰
    for (auto& Task : AsyncTasks)
    {
        Task->StartBackgroundTask();  // ë¸”ë¡œí‚¹ ì—†ìŒ
    }

    // 3. ì˜ˆì‚° ë‚´ì—ì„œ ìµœëŒ€í•œ ì§„í–‰
    float UsedTime = 0.0f;
    while (UsedTime < TotalStreamingBudget)
    {
        // ê° Taskê°€ ì•Œì•„ì„œ ì§„í–‰
        UsedTime += DeltaTime;
    }
}
```

---

## ğŸš€ í•µì‹¬ ìµœì í™” 3: ActorDescriptorMutator

### ë¬¸ì œ: ìˆ˜ë™ ê·¸ë¦¬ë“œ ê´€ë¦¬ì˜ íœ´ë¨¼ ì—ëŸ¬

**ê¸°ì¡´ ë°©ì‹:**

```cpp
// ë ˆë²¨ ë””ìì´ë„ˆê°€ ê° ì•¡í„°ë§ˆë‹¤ ìˆ˜ë™ìœ¼ë¡œ ê·¸ë¦¬ë“œ ì„¤ì •
Actor_Tree01->StreamingGrid = "Vegetation";
Actor_Tree02->StreamingGrid = "Vegetation";
...
Actor_Building01->StreamingGrid = "Architecture";  // ì‹¤ìˆ˜ë¡œ ëˆ„ë½ â†’ ë²„ê·¸!
```

**ë¬¸ì œì :**
- ìˆ˜ì²œ~ìˆ˜ë§Œ ê°œ ì•¡í„°ë¥¼ ì¼ì¼ì´ ì„¤ì • â†’ ì‹¤ìˆ˜ ë§ìŒ
- ê·¸ë¦¬ë“œ ì „ëµ ë³€ê²½ ì‹œ ì „ì²´ ì¬ì‘ì—… í•„ìš”

### í•´ê²°: ActorDescriptorMutator

**ğŸ“‚ ìœ„ì¹˜**: `Engine/Source/Runtime/Engine/Public/WorldPartition/WorldPartitionStreamingGeneration.h:293`

```cpp
// Mutator: íŒŒí‹°ì…”ë‹ ì „ì— ì•¡í„° ì†ì„±ì„ ìë™ ë³€ê²½
UCLASS()
class UMyActorDescriptorMutator : public UActorDescriptorMutator
{
    GENERATED_BODY()

public:
    virtual void MutateActorDescriptor(FWorldPartitionActorDesc& ActorDesc) override
    {
        // í´ë” êµ¬ì¡°ì— ë”°ë¼ ìë™ìœ¼ë¡œ ê·¸ë¦¬ë“œ ì§€ì •
        FString ActorPath = ActorDesc.GetActorPath().ToString();

        if (ActorPath.Contains("/Vegetation/"))
        {
            ActorDesc.SetGridPlacement(EActorGridPlacement::AlwaysLoaded);
            ActorDesc.SetRuntimeGrid("Vegetation_Grid");
        }
        else if (ActorPath.Contains("/Architecture/"))
        {
            ActorDesc.SetRuntimeGrid("Building_Grid");
        }
        else if (ActorPath.Contains("/Props/"))
        {
            ActorDesc.SetRuntimeGrid("Props_Grid");
        }
    }
};
```

**CDPRì˜ í™œìš©:**

```
í´ë” êµ¬ì¡°:
  /Content/Environment/
    â”œâ”€ Vegetation/   â†’ ìë™ìœ¼ë¡œ "Vegetation_Grid" í• ë‹¹
    â”œâ”€ Architecture/ â†’ ìë™ìœ¼ë¡œ "Building_Grid" í• ë‹¹
    â””â”€ Props/        â†’ ìë™ìœ¼ë¡œ "Props_Grid" í• ë‹¹

â†’ íœ´ë¨¼ ì—ëŸ¬ ê°ì†Œ
â†’ ê·¸ë¦¬ë“œ ì „ëµ í…ŒìŠ¤íŠ¸ ìš©ì´ (Mutatorë§Œ ìˆ˜ì •)
```

**ë¹„íŒŒê´´ì  í”Œë¡œìš°:**
- ì›ë³¸ ì—ì…‹ ìˆ˜ì • ì—†ìŒ
- Mutatorë§Œ ë³€ê²½í•˜ë©´ ì¦‰ì‹œ ë°˜ì˜
- ë°˜ë³µ ì‘ì—… ë§¤ìš° ë¹ ë¦„

---

## ğŸš€ í•µì‹¬ ìµœì í™” 4: RuntimeCellTransformer

### ë¬¸ì œ: ì •ì  ì§€ì˜¤ë©”íŠ¸ë¦¬ì˜ ê³¼ë„í•œ ë¬¼ë¦¬ ì—°ì‚°

**ìƒí™©:**
- ê±´ë¬¼, ë°”ìœ„ ë“± ì •ì  ì˜¤ë¸Œì íŠ¸ = ì ˆëŒ€ ì›€ì§ì´ì§€ ì•ŠìŒ
- í•˜ì§€ë§Œ Collision ì²´í¬ ìœ„í•´ ë¬¼ë¦¬ ìƒíƒœ ìƒì„± í•„ìš”
- ë¹„ë™ê¸° ë¬¼ë¦¬ ìƒíƒœ ìƒì„± = ìŠ¤íŠ¸ë¦¬ë° ë³‘ëª©

**ê¸°ì¡´:**

```
Static Mesh Actor (ê±´ë¬¼)
  â†“ ìŠ¤íŠ¸ë¦¬ë° ì‹œ
ìƒì„±ì í˜¸ì¶œ â†’ Physics State ìƒì„± (ë¹„ë™ê¸°) â†’ AddToWorld
           â†‘ ì´ ë¶€ë¶„ì´ ëŠë¦¼!
```

### í•´ê²°: Fast Geo Streaming Plugin

**ğŸ“‚ ìœ„ì¹˜**: `Engine/Plugins/Experimental/FastGeoStreaming/`

```cpp
// RuntimeCellTransformer: ì…€ ë°ì´í„° ëŸ°íƒ€ì„ ë³€í™˜
UCLASS()
class UFastGeoTransformer : public URuntimeCellTransformer
{
    GENERATED_BODY()

public:
    virtual void TransformCell(FWorldPartitionCell& Cell) override
    {
        for (auto& Actor : Cell.Actors)
        {
            // Static Mesh â†’ ê²½ëŸ‰ ë°ì´í„°ë¡œ ë³€í™˜
            if (IsStaticGeometry(Actor))
            {
                // ë¬¼ë¦¬ ìƒíƒœ ìƒì„± ì œê±°
                Actor.bSkipPhysicsStateCreation = true;

                // ëŒ€ì‹  ë‹¨ìˆœí•œ Collision Proxy ì‚¬ìš©
                Actor.CollisionData = CreateLightweightCollisionProxy(Actor);
            }
        }
    }
};
```

**ë³€í™˜ ê³¼ì •:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Editor (ì½˜í…ì¸  ì €ì¥ ì‹œ)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  StaticMeshActor (Building)                                     â”‚
â”‚    - Mesh: 100ë§Œ í´ë¦¬ê³¤                                          â”‚
â”‚    - Physics: Full Collision Mesh                               â”‚
â”‚    - Size: 50 MB                                                â”‚
â”‚                    â†“ RuntimeCellTransformer ì ìš©                â”‚
â”‚  LightweightGeoData                                             â”‚
â”‚    - Simplified Mesh: 1000 í´ë¦¬ê³¤ (ë Œë”ë§ìš©)                     â”‚
â”‚    - Simple Box Collision (ë¬¼ë¦¬ìš©)                              â”‚
â”‚    - Size: 2 MB                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Runtime (ìŠ¤íŠ¸ë¦¬ë° ì‹œ)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë¹„ë™ê¸° ë¬¼ë¦¬ ìƒíƒœ ìƒì„± ì œê±° ê¸°ëŠ¥ ì‚¬ìš©                             â”‚
â”‚    â†’ ì¦‰ì‹œ AddToWorld ê°€ëŠ¥!                                      â”‚
â”‚    â†’ ìŠ¤íŠ¸ë¦¬ë° ì‹œê°„ ëŒ€í­ ë‹¨ì¶•                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì œì•½ ì‚¬í•­:**

```cpp
// âœ… ë³€í™˜ ê°€ëŠ¥
- StaticMeshActor (ê±´ë¬¼, ë°”ìœ„, ì •ì  ì˜¤ë¸Œì íŠ¸)
- ë¸”ë£¨í”„ë¦°íŠ¸ ì—†ìŒ
- ë¦¬í”Œë¦¬ì¼€ì´ì…˜ ì—†ìŒ

// âŒ ë³€í™˜ ë¶ˆê°€
- Blueprint Actor (ë¡œì§ ìˆìŒ)
- Replicated Actor (ë©€í‹°í”Œë ˆì´ì–´)
- ë™ì  Mesh (Destructible ë“±)
```

---

## ğŸš€ í•µì‹¬ ìµœì í™” 5: ìŠ¤íŠ¸ë¦¬ë° ì…€ ì„¸ë¶„í™”

### ë¬¸ì œ: í° ì…€ = ë§ì€ ë©”ëª¨ë¦¬ ë‚­ë¹„

**ê¸°ì¡´:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         í° ì…€ (1km Ã— 1km)            â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                  â”‚
â”‚  â”‚ë¹Œë”©â”‚ â”‚ë‚˜ë¬´â”‚ â”‚ë°”ìœ„â”‚  ...           â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                  â”‚
â”‚                                     â”‚
â”‚  â†’ í”Œë ˆì´ì–´ê°€ í•œìª½ ëì—ë§Œ ìˆì–´ë„     â”‚
â”‚     ì „ì²´ ì…€ì„ ë¡œë“œí•´ì•¼ í•¨ (ë‚­ë¹„!)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•´ê²°: ë ˆì´ì–´ë³„ ê·¸ë¦¬ë“œ ë¶„ë¦¬

**The Witcher 4 ì „ëµ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë ˆì´ì–´ 1: Architecture (í° ê·¸ë¦¬ë“œ)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   Cell 500m Ã— 500m  â”‚  â”‚   Cell 500m Ã— 500m  â”‚              â”‚
â”‚  â”‚   ê±´ë¬¼, ëœë“œë§ˆí¬     â”‚  â”‚   ê±´ë¬¼, ëœë“œë§ˆí¬     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë ˆì´ì–´ 2: Vegetation (ì¤‘ê°„ ê·¸ë¦¬ë“œ)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚200Ã—200mâ”‚â”‚200Ã—200mâ”‚â”‚200Ã—200mâ”‚â”‚200Ã—200mâ”‚             â”‚
â”‚  â”‚  ë‚˜ë¬´   â”‚â”‚  ë‚˜ë¬´   â”‚â”‚  ë‚˜ë¬´   â”‚â”‚  ë‚˜ë¬´   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë ˆì´ì–´ 3: Props (ì‘ì€ ê·¸ë¦¬ë“œ)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”            â”‚
â”‚  â”‚50mâ”‚â”‚50mâ”‚â”‚50mâ”‚â”‚50mâ”‚â”‚50mâ”‚â”‚50mâ”‚â”‚50mâ”‚â”‚50mâ”‚            â”‚
â”‚  â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚â”‚ì†Œí’ˆâ”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íš¨ê³¼:**

| ë ˆì´ì–´ | ê·¸ë¦¬ë“œ í¬ê¸° | ë¡œë”© ê±°ë¦¬ | ë©”ëª¨ë¦¬ ì ˆì•½ |
|-------|-----------|----------|-----------|
| Architecture | 500m | 1000m | - |
| Vegetation | 200m | 400m | ~20% |
| Props | 50m | 100m | ~40% |

**êµ¬í˜„:**

```cpp
// Project Settings â†’ World Partition
TArray<FWorldPartitionRuntimeGrid> RuntimeGrids;

// Grid 1: Architecture
FWorldPartitionRuntimeGrid ArchGrid;
ArchGrid.GridName = "Building_Grid";
ArchGrid.CellSize = 50000;  // 500m (cm ë‹¨ìœ„)
ArchGrid.LoadingRange = 100000;  // 1000m

// Grid 2: Vegetation
FWorldPartitionRuntimeGrid VegGrid;
VegGrid.GridName = "Vegetation_Grid";
VegGrid.CellSize = 20000;  // 200m
VegGrid.LoadingRange = 40000;  // 400m

// Grid 3: Props
FWorldPartitionRuntimeGrid PropsGrid;
PropsGrid.GridName = "Props_Grid";
PropsGrid.CellSize = 5000;  // 50m
PropsGrid.LoadingRange = 10000;  // 100m
```

---

## ğŸ“Š ìµœì¢… ì„±ëŠ¥ ì¸¡ì •

### UE 5.5 vs UE 5.6/5.7

| í•­ëª© | UE 5.5 (ê¸°ì¡´) | UE 5.6/5.7 (ê°œì„ ) | ê°œì„ ìœ¨ |
|------|--------------|------------------|-------|
| **ìŠ¤íŠ¸ë¦¬ë° ì™„ë£Œ** | 51 í”„ë ˆì„ | 24 í”„ë ˆì„ | **53% ë‹¨ì¶•** |
| **ëŠê¹€ ë°œìƒ** | ë¹ˆë²ˆ (í”„ë ˆì„ ë“œë¡­) | ê±°ì˜ ì—†ìŒ | **90% ê°ì†Œ** |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©** | 4.2 GB | 2.9 GB | **31% ì ˆì•½** |
| **CPU ì˜ˆì‚° ë‚­ë¹„** | ~40% | ~5% | **87% íš¨ìœ¨ í–¥ìƒ** |

### The Witcher 4 Demo ì‹¤ì¸¡

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**: ë§ì„ íƒ€ê³  ìˆ² â†’ ë§ˆì„ ê³ ì† ì´ë™

```
ì´ë™ ì†ë„: ~15 m/s (ë§ ì§ˆì£¼)
ê±°ë¦¬: 1 km
ëª©í‘œ: 60 FPS ìœ ì§€

ê²°ê³¼ (UE 5.6):
  - í‰ê·  FPS: 58.7
  - ìµœì € FPS: 55.2 (ìŠ¤íŠ¸ë¦¬ë° í”¼í¬ ì‹œ)
  - ëŠê¹€: ê°ì§€ ì•ˆ ë¨

ë¹„êµ (UE 5.5):
  - í‰ê·  FPS: 42.3
  - ìµœì € FPS: 28.1 (ì‹¬ê°í•œ ëŠê¹€)
  - ëŠê¹€: 3~4íšŒ ë°œìƒ
```

---

## ğŸ’¡ ë””ë²„ê¹… íˆ´

### ìƒˆë¡œìš´ ë””ë²„ê¹… ëª¨ë“œ (UE 5.6+)

```cpp
// Console Commands

// 1. ìŠ¤íŠ¸ë¦¬ë° ìƒíƒœ ì‹œê°í™”
wp.Runtime.ShowRuntimeSpatialHash 1
â†’ ê° ì…€ì˜ ë¡œë”© ìƒíƒœë¥¼ ìƒ‰ìƒìœ¼ë¡œ í‘œì‹œ

// 2. Cell Transformer ë””ë²„ê¹…
wp.Runtime.ShowTransformedActors 1
â†’ ë³€í™˜ëœ ì•¡í„° vs ì›ë³¸ ì•¡í„° êµ¬ë¶„ í‘œì‹œ

// 3. ìŠ¤íŠ¸ë¦¬ë° ì˜ˆì‚° ëª¨ë‹ˆí„°ë§
stat WorldPartitionStreaming
â†’ AsyncLoad, AddToWorld, RemoveFromWorld ì‹œê°„ í‘œì‹œ

// 4. ê·¸ë¦¬ë“œ ì‹œê°í™”
wp.Editor.ShowGrid Vegetation_Grid
â†’ íŠ¹ì • ê·¸ë¦¬ë“œì˜ ì…€ ê²½ê³„ í‘œì‹œ
```

### Unreal Insights íŠ¸ë™

```
Insights â†’ World Partition Track:
  - Streaming Budget (í”„ë ˆì„ë³„)
  - Cell Load/Unload ì´ë²¤íŠ¸
  - Mutator/Transformer ì‹¤í–‰ ì‹œê°„
  - Memory Usage (ì…€ë³„)
```

---

## ğŸ¯ Best Practices

### 1. **ê·¸ë¦¬ë“œ ì „ëµ**

```cpp
âœ… ì¢‹ì€ ì˜ˆ:
  - í° ì˜¤ë¸Œì íŠ¸ = í° ê·¸ë¦¬ë“œ (ê±´ë¬¼ 500m)
  - ì‘ì€ ì˜¤ë¸Œì íŠ¸ = ì‘ì€ ê·¸ë¦¬ë“œ (ì†Œí’ˆ 50m)
  - ë ˆì´ì–´ë³„ ë¶„ë¦¬ (ActorDescriptorMutator í™œìš©)

âŒ ë‚˜ìœ ì˜ˆ:
  - ëª¨ë“  ê²ƒì„ í•˜ë‚˜ì˜ ê·¸ë¦¬ë“œì— (ë©”ëª¨ë¦¬ ë‚­ë¹„)
  - ë„ˆë¬´ ì‘ì€ ê·¸ë¦¬ë“œ (ì…€ ê°œìˆ˜ í­ë°œ, CPU ë¶€ë‹´)
```

### 2. **ìŠ¤íŠ¸ë¦¬ë° ì˜ˆì‚° ì„¤ì •**

```cpp
// 60 FPS ëª©í‘œ (16.6ms per frame)
TotalStreamingBudget = 4.0ms;  // í”„ë ˆì„ì˜ ~24%

// 30 FPS ëª©í‘œ (33.3ms per frame)
TotalStreamingBudget = 8.0ms;  // í”„ë ˆì„ì˜ ~24%

// â†’ ëª©í‘œ FPSì˜ 20~25%ë¥¼ ìŠ¤íŠ¸ë¦¬ë°ì— í• ë‹¹
```

### 3. **Fast Geo Streaming í™œìš©**

```cpp
// ì •ì  ì§€ì˜¤ë©”íŠ¸ë¦¬ íŒë³„ ê¸°ì¤€
bool IsStaticGeometry(AActor* Actor)
{
    // âœ… ë³€í™˜ ê°€ëŠ¥
    return Actor->IsA<AStaticMeshActor>() &&
           !Actor->HasAnyFlags(RF_Transient) &&
           Actor->GetRootComponent()->Mobility == EComponentMobility::Static;

    // âŒ ë³€í™˜ ë¶ˆê°€
    // - Blueprint
    // - Replicated
    // - Movable/Stationary
}
```

---

## ğŸ”— References

- **GDC Talk**: "The Witcher 4: World Partition Streaming Optimization" (ì—í”½ê²Œì„ì¦ˆ ì½”ë¦¬ì•„)
- **Official Docs**: [World Partition (UE 5.6+)](https://docs.unrealengine.com/5.6/en-US/world-partition-in-unreal-engine/)
- **Source Code**: `Engine/Source/Runtime/Engine/Private/WorldPartition/WorldPartitionStreamingPolicy.cpp`
- **Plugin**: Fast Geo Streaming (`Engine/Plugins/Experimental/FastGeoStreaming/`)

---

## ğŸ“ ë²„ì „ ì´ë ¥

- **v1.0** (2025-01-22): ì´ˆê¸° ì‘ì„± - World Partition Streaming Optimization (UE 5.6/5.7, The Witcher 4 Tech Demo)