---
title: "Niagara - VFX μ‹μ¤ν… κ°μ” (Niagara VFX System Overview)"
date: "2025-11-21"
status: "stable"
project: "UnrealEngine"
lang: "ko"
category: "unreal-summary"
track: "Niagara"
tags: ["unreal", "Niagara"]
---
# Niagara - VFX μ‹μ¤ν… κ°μ” (Niagara VFX System Overview)

## π§­ κ°μ” (Overview)

**Niagara**λ” Unreal Engine 5μ **μ°¨μ„Έλ€ VFX μ‹μ¤ν…**μΌλ΅, λ°μ΄ν„° μ£Όλ„ν• μ•„ν‚¤ν…μ²μ™€ λ¨λ“ κΈ°λ° μ„¤κ³„λ¥Ό ν†µν•΄ **κ³ μ„±λ¥ νν‹°ν΄ μ΄ν™νΈ**λ¥Ό μ μ‘ν•  μ μλ” κ°•λ ¥ν• μ‹μ¤ν…μ…λ‹λ‹¤. κΈ°μ΅΄ Cascade μ‹μ¤ν…μ„ λ€μ²΄ν•λ©°, **CPU/GPU λ³‘λ ¬ μ‹λ®¬λ μ΄μ…**, **μ μ—°ν• μ¤ν¬λ¦½ν…**, **ν™•μ¥ κ°€λ¥ν• λ°μ΄ν„° μΈν„°νμ΄μ¤**λ¥Ό μ§€μ›ν•©λ‹λ‹¤.

**ν•µμ‹¬ μ—­ν• :**
- **νν‹°ν΄ μ‹λ®¬λ μ΄μ…**: CPU/GPU κΈ°λ° λ€κ·λ¨ νν‹°ν΄ μ‹λ®¬λ μ΄μ…
- **λ¨λ“ μ‹μ¤ν…**: μ¬μ‚¬μ© κ°€λ¥ν• λ¨λ“ κΈ°λ° μ΄ν™νΈ μ μ‘
- **λ°μ΄ν„° μ£Όλ„ν•**: μ†μ„±(Attribute) κΈ°λ° νν‹°ν΄ λ°μ΄ν„° κ΄€λ¦¬
- **μ¤ν¬λ¦½ν…**: λΉ„μ£Όμ–Ό κ·Έλν”„ κΈ°λ° λ΅μ§ μ„¤κ³„ (HLSL/VM μ»΄νμΌ)
- **λ°μ΄ν„° μΈν„°νμ΄μ¤**: μ™Έλ¶€ λ°μ΄ν„° μ—°λ™ (Texture, Mesh, Collision λ“±)
- **μ΄λ²¤νΈ μ‹μ¤ν…**: μ—λ―Έν„° κ°„ ν†µμ‹  λ° μƒνΈμ‘μ©
- **μ‹¤μ‹κ°„ λ””λ²„κΉ…**: Niagara Debugger HUD, μ„±λ¥ ν”„λ΅νμΌλ§

**π“‚ μ„μΉ:**
- `Engine/Plugins/FX/Niagara/Source/Niagara/Classes/NiagaraSystem.h` (μ‹μ¤ν… μ»¨ν…μ΄λ„)
- `Engine/Plugins/FX/Niagara/Source/Niagara/Classes/NiagaraEmitter.h` (μ—λ―Έν„° μ •μ)
- `Engine/Plugins/FX/Niagara/Source/Niagara/Public/NiagaraComponent.h` (λ°νƒ€μ„ μ»΄ν¬λ„νΈ)
- `Engine/Plugins/FX/Niagara/Source/Niagara/Classes/NiagaraDataInterface.h` (λ°μ΄ν„° μΈν„°νμ΄μ¤ κΈ°λ°)

---

## π― μ„¤κ³„ μ² ν•™: μ™ NiagaraμΈκ°€?

### λ¬Έμ : Cascadeμ ν•κ³„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Cascade μ‹μ¤ν…μ ν•κ³„                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                         β”‚
β”‚  β λ¬Έμ  1: μ ν•μ μΈ ν™•μ¥μ„±                                              β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  - κ³ μ •λ λ¨λ“ κµ¬μ΅°                       β”‚                          β”‚
β”‚  β”‚  - μ»¤μ¤ν…€ κΈ°λ¥ μ¶”κ°€ μ–΄λ ¤μ›€                 β”‚                          β”‚
β”‚  β”‚  - C++ μ¬μ»΄νμΌ ν•„μ”                      β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚                                                                         β”‚
β”‚  β λ¬Έμ  2: CPU μ „μ© μ‹λ®¬λ μ΄μ…                                          β”‚
β”‚  - GPU νν‹°ν΄ μ§€μ› μ ν•μ                                                 β”‚
β”‚  - λ€κ·λ¨ νν‹°ν΄ (10λ§+) μ²λ¦¬ μ–΄λ ¤μ›€                                      β”‚
β”‚  - λ©€ν‹°μ¤λ λ“ ν™μ© λ―Έν΅                                                   β”‚
β”‚                                                                         β”‚
β”‚  β λ¬Έμ  3: λ°μ΄ν„° νλ¦„μ λ¶λ…ν™•μ„±                                       β”‚
β”‚  - λ¨λ“ κ°„ λ°μ΄ν„° μ „λ‹¬ λ°©μ‹ λ¶λ…ν™•                                        β”‚
β”‚  - νλΌλ―Έν„° λ²”μ„(Scope) κ°λ… λ¶€μ΅±                                        β”‚
β”‚  - λ””λ²„κΉ… μ–΄λ ¤μ›€                                                         β”‚
β”‚                                                                         β”‚
β”‚  β λ¬Έμ  4: μ™Έλ¶€ λ°μ΄ν„° μ—°λ™ μ ν•                                        β”‚
β”‚  - Texture/Mesh μƒν”λ§ μ ν•μ                                             β”‚
β”‚  - Collision/Physics μ—°λ™ μ–΄λ ¤μ›€                                         β”‚
β”‚  - Blueprint/C++ ν†µν•© λ―Έν΅                                               β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                            β†“
                   Niagara μ†”λ£¨μ…:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                                         β”‚
β”‚  β… ν•΄κ²° 1: λ°μ΄ν„° μ£Όλ„ν• (Data-Driven) μ•„ν‚¤ν…μ²                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  - μ†μ„±(Attribute) κΈ°λ° νν‹°ν΄ λ°μ΄ν„°     β”‚                          β”‚
β”‚  β”‚  - μ μ—°ν• λ°μ΄ν„° κµ¬μ΅° (λ™μ  μ¶”κ°€/μ κ±°)    β”‚                          β”‚
β”‚  β”‚  - λ…ν™•ν• λ°μ΄ν„° νλ¦„ (Parameter Map)     β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚                                                                         β”‚
β”‚  β… ν•΄κ²° 2: CPU/GPU λ³‘λ ¬ μ‹λ®¬λ μ΄μ…                                      β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  CPU Simulation:                         β”‚                          β”‚
β”‚  β”‚  - λ””λ²„κΉ… μ©μ΄                            β”‚                          β”‚
β”‚  β”‚  - λ³µμ΅ν• λ΅μ§ μ§€μ›                       β”‚                          β”‚
β”‚  β”‚  - 10λ§+ νν‹°ν΄ μ²λ¦¬ (λ©€ν‹°μ¤λ λ“)         β”‚                          β”‚
β”‚  β”‚                                          β”‚                          β”‚
β”‚  β”‚  GPU Simulation:                         β”‚                          β”‚
β”‚  β”‚  - HLSL Compute Shader                   β”‚                          β”‚
β”‚  β”‚  - 100λ§+ νν‹°ν΄ μ²λ¦¬ κ°€λ¥                β”‚                          β”‚
β”‚  β”‚  - μ™„μ „ λ³‘λ ¬ μ‹¤ν–‰                         β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚                                                                         β”‚
β”‚  β… ν•΄κ²° 3: λ¨λ“ κΈ°λ° (Modular) μ‹μ¤ν…                                   β”‚
β”‚  - μ¬μ‚¬μ© κ°€λ¥ν• λ¨λ“                                                    β”‚
β”‚  - Scratch Pad (μ»¤μ¤ν…€ λ¨λ“ μ μ‘)                                        β”‚
β”‚  - Dynamic Input (λ°νƒ€μ„ νλΌλ―Έν„° λ°”μΈλ”©)                                β”‚
β”‚                                                                         β”‚
β”‚  β… ν•΄κ²° 4: λ°μ΄ν„° μΈν„°νμ΄μ¤ (Data Interface) μ‹μ¤ν…                     β”‚
β”‚  - 52+ λ‚΄μ¥ DataInterface                                               β”‚
β”‚  β”‚  - Texture, Skeletal Mesh, Static Mesh                             β”‚
β”‚  β”‚  - Collision, Audio, Camera                                        β”‚
β”‚  β”‚  - Blueprint λ³€μ, C++ ν•¨μ νΈμ¶                                     β”‚
β”‚  - μ»¤μ¤ν…€ DataInterface μ μ‘ κ°€λ¥                                       β”‚
β”‚                                                                         β”‚
β”‚  β… ν•΄κ²° 5: λΉ„μ£Όμ–Ό μ¤ν¬λ¦½ν… + μ»΄νμΌ μµμ ν™”                               β”‚
β”‚  - κ·Έλν”„ κΈ°λ° λ΅μ§ μ„¤κ³„                                                 β”‚
β”‚  - HLSL/VM λ°”μ΄νΈμ½”λ“ μ»΄νμΌ                                             β”‚
β”‚  - DDC (Derived Data Cache) ν™μ©                                       β”‚
β”‚  - ν”λ«νΌλ³„ μµμ ν™”                                                       β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### Cascade vs Niagara λΉ„κµ

| ν•­λ© | Cascade | Niagara |
|------|---------|---------|
| **μ•„ν‚¤ν…μ²** | λ¨λ“ κΈ°λ° (κ³ μ •) | λ°μ΄ν„° μ£Όλ„ν• (μ μ—°) |
| **μ‹λ®¬λ μ΄μ…** | CPU μ „μ© | CPU + GPU (μ„ νƒ κ°€λ¥) |
| **μµλ€ νν‹°ν΄ μ** | ~10λ§ (CPU) | CPU: ~50λ§, GPU: ~100λ§+ |
| **λ°μ΄ν„° λ¨λΈ** | κ³ μ •λ νν‹°ν΄ μ†μ„± | λ™μ  μ†μ„± (Attribute) |
| **μ™Έλ¶€ λ°μ΄ν„° μ—°λ™** | μ ν•μ  | Data Interface μ‹μ¤ν… |
| **μ¤ν¬λ¦½ν…** | C++ μ¬μ»΄νμΌ ν•„μ” | λΉ„μ£Όμ–Ό κ·Έλν”„ (μ»΄νμΌ) |
| **λ””λ²„κΉ…** | μ ν•μ  | Niagara Debugger HUD |
| **ν™•μ¥μ„±** | λ‚®μ (C++λ§ κ°€λ¥) | λ†’μ (λ¨λ“/DI μ μ‘) |
| **μ΄λ²¤νΈ μ‹μ¤ν…** | μ—†μ | μ—λ―Έν„° κ°„ ν†µμ‹  μ§€μ› |
| **λ²„μ „ κ΄€λ¦¬** | μ—†μ | Emitter λ²„μ „ μ‹μ¤ν… |
| **μ„±λ¥ ν”„λ΅νμΌλ§** | κΈ°λ³Έ stat | Scalability, Budget μ‹μ¤ν… |

**π“‚ μ†μ¤ κ²€μ¦:**
- `NiagaraSystem.h:916-918` - EmitterHandles λ°°μ—΄
- `NiagaraEmitter.h:238-584` - FVersionedNiagaraEmitterData
- `NiagaraComponent.h:53-54` - UNiagaraComponent ν΄λμ¤

### μ„¤κ³„ κ²°μ •

| κ²°μ • μ‚¬ν•­ | μ΄μ  | νΈλ μ΄λ“μ¤ν”„ |
|----------|------|-------------|
| **λ°μ΄ν„° μ£Όλ„ν•** | μ μ—°ν• μ†μ„± κ΄€λ¦¬, λ…ν™•ν• λ°μ΄ν„° νλ¦„ | ν•™μµ κ³΅μ„  μ¦κ°€ |
| **CPU/GPU λ¶„λ¦¬** | ν”λ«νΌλ³„ μµμ ν™”, λ””λ²„κΉ… vs μ„±λ¥ μ„ νƒ | μ½”λ“ κ²½λ΅ λ¶„κΈ° |
| **λ¨λ“ μ‹μ¤ν…** | μ¬μ‚¬μ©μ„±, μ μ§€λ³΄μμ„± ν–¥μƒ | λ¨λ“ μ΅°ν•© λ³µμ΅λ„ μ¦κ°€ |
| **μ»΄νμΌ κΈ°λ°** | λ°νƒ€μ„ μ„±λ¥ μµμ ν™” | μ»΄νμΌ μ‹κ°„ μ¦κ°€ |
| **DataInterface** | ν™•μ¥ κ°€λ¥ν• μ™Έλ¶€ μ—°λ™ | μΈν„°νμ΄μ¤ μ„¤κ³„ λ³µμ΅λ„ |
| **Emitter λ²„μ „ μ‹μ¤ν…** | ν•μ„ νΈν™μ„± μ μ§€ | λ²„μ „ κ΄€λ¦¬ μ¤λ²„ν—¤λ“ |

---

## π—οΈ μ‹μ¤ν… μ•„ν‚¤ν…μ² (System Architecture)

### μ „μ²΄ νμ΄ν”„λΌμΈ

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              Niagara μ‹μ¤ν… μ‹¤ν–‰ νμ΄ν”„λΌμΈ                               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                         β”‚
β”‚  [1] μ—λ””ν„° (Editor)                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  UNiagaraSystem (Asset)                  β”‚                          β”‚
β”‚  β”‚  β”β”€ EmitterHandles[]                     β”‚                          β”‚
β”‚  β”‚  β”‚   β””β”€ UNiagaraEmitter (Asset)          β”‚                          β”‚
β”‚  β”‚  β”‚      β”β”€ SpawnScript                    β”‚                          β”‚
β”‚  β”‚  β”‚      β”β”€ UpdateScript                   β”‚                          β”‚
β”‚  β”‚  β”‚      β””β”€ EventHandlers[]                β”‚                          β”‚
β”‚  β”‚  β”β”€ SystemSpawnScript                    β”‚                          β”‚
β”‚  β”‚  β”β”€ SystemUpdateScript                   β”‚                          β”‚
β”‚  β”‚  β””β”€ ExposedParameters                    β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β”‚                                                               β”‚
β”‚         β”‚ μ»΄νμΌ (Compilation)                                          β”‚
β”‚         β†“                                                               β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  Niagara Compiler                        β”‚                          β”‚
β”‚  β”‚  β”β”€ Graph β†’ HLSL (GPU)                   β”‚                          β”‚
β”‚  β”‚  β”β”€ Graph β†’ VM Bytecode (CPU)            β”‚                          β”‚
β”‚  β”‚  β”β”€ DDC μΊμ‹±                              β”‚                          β”‚
β”‚  β”‚  β””β”€ ν”λ«νΌλ³„ μµμ ν™”                        β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β†“                                                               β”‚
β”‚  [2] λ°νƒ€μ„ (Runtime)                                                   β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  UNiagaraComponent (World)               β”‚                          β”‚
β”‚  β”‚  - Asset: UNiagaraSystem*                β”‚                          β”‚
β”‚  β”‚  - SystemInstanceController              β”‚                          β”‚
β”‚  β”‚  - OverrideParameters                    β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β”‚                                                               β”‚
β”‚         β†“ Activate()                                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  FNiagaraSystemInstance                  β”‚                          β”‚
β”‚  β”‚  β”β”€ FNiagaraSystemSimulation             β”‚                          β”‚
β”‚  β”‚  β”‚   β””β”€ EmitterInstances[]               β”‚                          β”‚
β”‚  β”‚  β”β”€ ParameterStore                       β”‚                          β”‚
β”‚  β”‚  β””β”€ DataInterfaceBindings                β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β”‚                                                               β”‚
β”‚         β†“ Tick()                                                        β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  [3] μ‹λ®¬λ μ΄μ… (CPU vs GPU)              β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚                          β”‚
β”‚  β”‚  β”‚ CPU Path:                          β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚  - VectorVM (SIMD)                 β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚  - Worker Thread λ³‘λ ¬ μ‹¤ν–‰          β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚  - Bytecode μ‹¤ν–‰                    β”‚  β”‚                          β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚                          β”‚
β”‚  β”‚  β”‚ GPU Path:                          β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚  - HLSL Compute Shader             β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚  - Render Thread μ‹¤ν–‰               β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚  - GPU Buffers                     β”‚  β”‚                          β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β†“                                                               β”‚
β”‚  [4] λ λ”λ§ (Rendering)                                                 β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  FNiagaraRenderer                        β”‚                          β”‚
β”‚  β”‚  β”β”€ Sprite Renderer                      β”‚                          β”‚
β”‚  β”‚  β”β”€ Mesh Renderer                        β”‚                          β”‚
β”‚  β”‚  β”β”€ Ribbon Renderer                      β”‚                          β”‚
β”‚  β”‚  β””β”€ Light Renderer                       β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**π“‚ μ†μ¤ κ²€μ¦:**
- `NiagaraSystem.h:916-918, 936-942, 952-953` - ν•µμ‹¬ λ©¤λ²„
- `NiagaraComponent.h:86-103, 147` - μ»΄ν¬λ„νΈ κµ¬μ΅°
- `NiagaraEmitter.h:238-584` - μ—λ―Έν„° λ°μ΄ν„°

### ν΄λμ¤ κ³„μΈµ κµ¬μ΅°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                         UNiagaraSystem                                  β”‚
β”‚  (Niagara μ΄ν™νΈμ μµμƒμ„ μ»¨ν…μ΄λ„)                                      β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  μƒμ†: UObject β†’ UNiagaraSystem                                         β”‚
β”‚                                                                         β”‚
β”‚  Public:                                                                β”‚
β”‚    - EmitterHandles : TArray<FNiagaraEmitterHandle>                    β”‚
β”‚      // μ—λ―Έν„° λ©λ΅ (κ° μ—λ―Έν„°λ” λ…λ¦½μ  νν‹°ν΄ κ·Έλ£Ή)                      β”‚
β”‚    - SystemSpawnScript : UNiagaraScript*                               β”‚
β”‚      // μ‹μ¤ν… μ‹μ‘ μ‹ 1ν μ‹¤ν–‰                                          β”‚
β”‚    - SystemUpdateScript : UNiagaraScript*                              β”‚
β”‚      // λ§¤ ν”„λ μ„ μ‹¤ν–‰                                                   β”‚
β”‚    - ExposedParameters : FNiagaraUserRedirectionParameterStore         β”‚
β”‚      // μ™Έλ¶€(BP/C++)μ—μ„ μ„¤μ • κ°€λ¥ν• νλΌλ―Έν„°                             β”‚
β”‚                                                                         β”‚
β”‚    - EffectType : UNiagaraEffectType*                                  β”‚
β”‚      // μ„±λ¥ μμ‚°, Scalability μ„¤μ •                                     β”‚
β”‚    - bFixedBounds : bool                                               β”‚
β”‚      // κ³ μ • κ²½κ³„ μ‚¬μ© μ—¬λ¶€ (μ„±λ¥ μµμ ν™”)                                β”‚
β”‚    - FixedBounds : FBox                                                β”‚
β”‚      // κ³ μ • κ²½κ³„ ν¬κΈ°                                                   β”‚
β”‚                                                                         β”‚
β”‚    - WarmupTime : float                                                β”‚
β”‚      // μ›λ°μ—… μ‹κ°„ (μ΄κΈ° μ‹λ®¬λ μ΄μ… μ‹κ°„)                                β”‚
β”‚    - WarmupTickCount : int32                                           β”‚
β”‚      // μ›λ°μ—… ν‹± νμ                                                   β”‚
β”‚    - WarmupTickDelta : float                                           β”‚
β”‚      // μ›λ°μ—… ν‹± κ°„κ²©                                                   β”‚
β”‚                                                                         β”‚
β”‚  μ£Όμ” λ©”μ„λ“:                                                            β”‚
β”‚    + GetEmitterHandles() : TArray<FNiagaraEmitterHandle>&             β”‚
β”‚    + GetSystemSpawnScript() : UNiagaraScript*                          β”‚
β”‚    + GetSystemUpdateScript() : UNiagaraScript*                         β”‚
β”‚    + GetExposedParameters() : FNiagaraUserRedirectionParameterStore&  β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                β–²
                                β”‚ μ°Έμ΅°
                                β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                         FNiagaraEmitterHandle                           β”‚
β”‚  (μ‹μ¤ν… λ‚΄ μ—λ―Έν„° μ°Έμ΅° λ° μ„¤μ •)                                         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Public:                                                                β”‚
β”‚    - VersionedInstance : FVersionedNiagaraEmitter                      β”‚
β”‚      // λ²„μ „ κ΄€λ¦¬λλ” μ—λ―Έν„° μΈμ¤ν„΄μ¤                                    β”‚
β”‚    - Id : FGuid                                                        β”‚
β”‚      // κ³ μ  μ‹λ³„μ                                                      β”‚
β”‚    - IdName : FName                                                    β”‚
β”‚      // μ—λ―Έν„° μ΄λ¦„                                                      β”‚
β”‚    - bIsEnabled : bool                                                 β”‚
β”‚      // ν™μ„±ν™” μ—¬λ¶€                                                      β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                β”‚
                                β”‚ μ°Έμ΅°
                                β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                         UNiagaraEmitter                                 β”‚
β”‚  (κ°λ³„ μ—λ―Έν„° μ—μ…‹ - νν‹°ν΄ μƒμ„± λ‹¨μ„)                                   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  μƒμ†: UObject β†’ UNiagaraEmitterBase β†’ UNiagaraEmitter                 β”‚
β”‚                                                                         β”‚
β”‚  Private:                                                               β”‚
β”‚    - VersionData : TArray<FVersionedNiagaraEmitterData>                β”‚
β”‚      // λ²„μ „λ³„ μ—λ―Έν„° λ°μ΄ν„° (ν•μ„ νΈν™μ„±)                                β”‚
β”‚                                                                         β”‚
β”‚  μ£Όμ” λ©”μ„λ“:                                                            β”‚
β”‚    + GetLatestEmitterData() : FVersionedNiagaraEmitterData*            β”‚
β”‚    + GetEmitterData(Version) : FVersionedNiagaraEmitterData*           β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**FVersionedNiagaraEmitterData κµ¬μ΅°:**

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    FVersionedNiagaraEmitterData                         β”‚
β”‚  (λ²„μ „λ³„ μ—λ―Έν„° μ„¤μ • λ° μ¤ν¬λ¦½νΈ)                                         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Public:                                                                β”‚
β”‚    - Version : FNiagaraAssetVersion                                    β”‚
β”‚      // μ—λ―Έν„° λ²„μ „ μ •λ³΄                                                 β”‚
β”‚                                                                         β”‚
β”‚    - SimTarget : ENiagaraSimTarget                                     β”‚
β”‚      // CPUSim, GPUComputeSim                                          β”‚
β”‚    - bLocalSpace : bool                                                β”‚
β”‚      // λ΅μ»¬ κ³µκ°„ μ‹λ®¬λ μ΄μ… μ—¬λ¶€                                         β”‚
β”‚    - bDeterminism : bool                                               β”‚
β”‚      // κ²°μ •λ΅ μ  μ‹λ®¬λ μ΄μ… (μ¬ν„ κ°€λ¥)                                  β”‚
β”‚    - RandomSeed : int32                                                β”‚
β”‚      // λλ¤ μ‹λ“                                                        β”‚
β”‚                                                                         β”‚
β”‚    - CalculateBoundsMode : ENiagaraEmitterCalculateBoundMode          β”‚
β”‚      // Dynamic, Fixed, Programmable                                   β”‚
β”‚    - FixedBounds : FBox                                                β”‚
β”‚      // κ³ μ • κ²½κ³„ (Fixed λ¨λ“ μ‹)                                        β”‚
β”‚                                                                         β”‚
β”‚    - AllocationMode : EParticleAllocationMode                          β”‚
β”‚      // AutomaticEstimate, ManualEstimate, FixedCount                  β”‚
β”‚    - PreAllocationCount : int32                                        β”‚
β”‚      // μ‚¬μ „ ν• λ‹Ή νν‹°ν΄ μ                                              β”‚
β”‚                                                                         β”‚
β”‚    - SpawnScriptProps : FVersionedNiagaraEmitterScriptProps            β”‚
β”‚      // Spawn μ¤ν¬λ¦½νΈ (νν‹°ν΄ μƒμ„± μ‹)                                  β”‚
β”‚    - UpdateScriptProps : FVersionedNiagaraEmitterScriptProps           β”‚
β”‚      // Update μ¤ν¬λ¦½νΈ (λ§¤ ν”„λ μ„)                                      β”‚
β”‚    - EventHandlerScriptProps : TArray<...>                             β”‚
β”‚      // μ΄λ²¤νΈ ν•Έλ“¤λ¬ (μ—λ―Έν„° κ°„ ν†µμ‹ )                                   β”‚
β”‚    - SimulationStages : TArray<UNiagaraSimulationStageBase*>          β”‚
β”‚      // λ©€ν‹° ν¨μ¤ μ‹λ®¬λ μ΄μ…                                             β”‚
β”‚                                                                         β”‚
β”‚    - RendererProperties : TArray<UNiagaraRendererProperties*>         β”‚
β”‚      // Sprite, Mesh, Ribbon, Light λ λ”λ¬                             β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**π“‚ μ†μ¤ κ²€μ¦:**
- `NiagaraEmitter.h:238-584` - FVersionedNiagaraEmitterData μ „μ²΄ κµ¬μ΅°
- `NiagaraEmitter.h:593-596` - UNiagaraEmitter ν΄λμ¤

---

## π§± ν•µμ‹¬ μ»΄ν¬λ„νΈ (Core Components)

### 1. UNiagaraSystem - μ‹μ¤ν… μ»¨ν…μ΄λ„

**μ—­ν• :** μ—¬λ¬ μ—λ―Έν„°λ¥Ό ν¬ν•¨ν•λ” μµμƒμ„ μ΄ν™νΈ λ‹¨μ„

```cpp
// NiagaraSystem.h:916-918
UPROPERTY()
TArray<FNiagaraEmitterHandle> EmitterHandles;

// NiagaraSystem.h:936-942
UPROPERTY()
TObjectPtr<UNiagaraScript> SystemSpawnScript;
UPROPERTY()
TObjectPtr<UNiagaraScript> SystemUpdateScript;

// NiagaraSystem.h:952-953
UPROPERTY()
FNiagaraUserRedirectionParameterStore ExposedParameters;
```

**νΉμ§•:**
- λ‹¤μμ μ—λ―Έν„° μ΅°ν•© κ°€λ¥ (λ¶κ½ƒ + μ—°κΈ° + ννΈ λ“±)
- μ‹μ¤ν… λ λ²¨ νλΌλ―Έν„° κ΄€λ¦¬
- Scalability λ° μ„±λ¥ μμ‚° μ μ–΄
- Warmup μ‹μ¤ν… (μ΄κΈ° μ•μ • μƒνƒ)

### 2. UNiagaraEmitter - μ—λ―Έν„° λ‹¨μ„

**μ—­ν• :** κ°λ³„ νν‹°ν΄ κ·Έλ£Ήμ μƒμ„± λ° μ‹λ®¬λ μ΄μ…

**λ²„μ „ μ‹μ¤ν…:**

```cpp
// NiagaraEmitter.h:593-596
UCLASS(MinimalAPI)
class UNiagaraEmitter : public UNiagaraEmitterBase
{
    UPROPERTY()
    TArray<FVersionedNiagaraEmitterData> VersionData;
};
```

**ν•µμ‹¬ μ„¤μ •:**

```cpp
// NiagaraEmitter.h:238-584 (FVersionedNiagaraEmitterData)
SimTarget: ENiagaraSimTarget
  - CPUSim: CPU μ‹λ®¬λ μ΄μ… (VectorVM)
  - GPUComputeSim: GPU μ‹λ®¬λ μ΄μ… (HLSL Compute Shader)

AllocationMode: EParticleAllocationMode
  - AutomaticEstimate: μλ™ μ¶”μ •
  - ManualEstimate: μλ™ μ„¤μ •
  - FixedCount: κ³ μ • κ°μ

CalculateBoundsMode: ENiagaraEmitterCalculateBoundMode
  - Dynamic: λ™μ  κ³„μ‚° (νν‹°ν΄ μ„μΉ κΈ°λ°)
  - Fixed: κ³ μ • κ²½κ³„
  - Programmable: μ¤ν¬λ¦½νΈλ΅ κ³„μ‚°
```

### 3. UNiagaraComponent - λ°νƒ€μ„ μ»΄ν¬λ„νΈ

**μ—­ν• :** μ›”λ“μ— λ°°μΉλλ” Niagara μ‹μ¤ν… μΈμ¤ν„΄μ¤

**π“‚ μ„μΉ:** `NiagaraComponent.h:53-103, 147`

```cpp
// NiagaraComponent.h:53-54
UCLASS(ClassGroup = (Rendering, Common), Blueprintable, ...)
class UNiagaraComponent : public UFXSystemComponent

// NiagaraComponent.h:86-103
private:
    UPROPERTY(EditAnywhere, Category="Niagara")
    TObjectPtr<UNiagaraSystem> Asset;

    UPROPERTY(EditAnywhere, Category = "Niagara")
    ENiagaraTickBehavior TickBehavior;

    UPROPERTY(EditAnywhere, Category = "Randomness")
    int32 RandomSeedOffset;

    UPROPERTY()
    FNiagaraUserRedirectionParameterStore OverrideParameters;

// NiagaraComponent.h:147
FNiagaraSystemInstanceControllerPtr SystemInstanceController;
```

**μ£Όμ” λ©”μ„λ“:**

```cpp
// μ‹μ¤ν… μ μ–΄
void ActivateSystem(bool bReset);
void DeactivateImmediate();
void Deactivate();
void ResetSystem();

// νλΌλ―Έν„° μ„¤μ •
void SetFloatParameter(FName ParameterName, float Value);
void SetVectorParameter(FName ParameterName, FVector Value);
void SetColorParameter(FName ParameterName, FLinearColor Value);
void SetBoolParameter(FName ParameterName, bool Value);

// μƒνƒ μΏΌλ¦¬
bool IsActive() const;
FNiagaraSystemInstanceID GetSystemInstanceID() const;
```

### 4. λ°μ΄ν„° μΈν„°νμ΄μ¤ (Data Interface)

**μ—­ν• :** μ™Έλ¶€ λ°μ΄ν„°λ¥Ό Niagara μ‹λ®¬λ μ΄μ…μ— μ—°λ™

**π“‚ μ„μΉ:** `NiagaraDataInterface.h:1-300`

**52+ λ‚΄μ¥ DataInterface νƒ€μ…** (Glob κ²€μƒ‰ κ²°κ³Ό):
- Texture: UNiagaraDataInterfaceTexture
- SkeletalMesh: UNiagaraDataInterfaceSkeletalMesh
- StaticMesh: UNiagaraDataInterfaceStaticMesh
- Collision: UNiagaraDataInterfaceCollisionQuery
- Audio: UNiagaraDataInterfaceAudioPlayer
- Camera: UNiagaraDataInterfaceCamera
- Curve: UNiagaraDataInterfaceCurve, UNiagaraDataInterfaceVector2DCurve
- RenderTarget: UNiagaraDataInterfaceRenderTarget2D
- Blueprint: UNiagaraDataInterfaceArrayFloat, UNiagaraDataInterfaceArrayInt32

**μ‚¬μ© μμ‹:**

```
Particle Update:
  β”β”€ Sample Skeletal Mesh (Data Interface)
  β”‚   β†’ λ³Έ μ„μΉ, μ†μΌ“ μ •λ³΄ κ°€μ Έμ¤κΈ°
  β”β”€ Sample Texture (Data Interface)
  β”‚   β†’ UV κΈ°λ° μƒ‰μƒ μƒν”λ§
  β””β”€ Query Collision Scene Depth (Data Interface)
      β†’ μ¶©λ κ°μ§€
```

---

## π”„ μƒλ…μ£ΌκΈ° (Lifecycle)

### μ‹μ¤ν… μƒλ…μ£ΌκΈ° μ „μ²΄ νλ¦„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              UNiagaraComponent μƒλ…μ£ΌκΈ°                                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                         β”‚
β”‚  [1] μƒμ„± λ° μ΄κΈ°ν™” (Spawn & Initialize)                                 β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  UNiagaraComponent::OnRegister()         β”‚                          β”‚
β”‚  β”‚    β”β”€ Asset = UNiagaraSystem λ΅λ“        β”‚                          β”‚
β”‚  β”‚    β”β”€ SystemInstanceController μƒμ„±      β”‚                          β”‚
β”‚  β”‚    β””β”€ OverrideParameters μ΄κΈ°ν™”          β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β†“                                                               β”‚
β”‚  [2] ν™μ„±ν™” (Activation)                                                 β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  UNiagaraComponent::ActivateSystem()     β”‚                          β”‚
β”‚  β”‚    β”β”€ FNiagaraSystemInstance μƒμ„±        β”‚                          β”‚
β”‚  β”‚    β”β”€ SystemSpawnScript μ‹¤ν–‰ (1ν)       β”‚                          β”‚
β”‚  β”‚    β”β”€ EmitterSpawnScript μ‹¤ν–‰ (κ° μ—λ―Έν„°)β”‚                          β”‚
β”‚  β”‚    β””β”€ μ΄κΈ° νν‹°ν΄ μƒμ„±                     β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β†“                                                               β”‚
β”‚  [3] μ—…λ°μ΄νΈ λ£¨ν”„ (Update Loop)                                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  λ§¤ ν”„λ μ„ (Tick):                        β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚                          β”‚
β”‚  β”‚  β”‚ A. SystemUpdateScript μ‹¤ν–‰         β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - DeltaTime, Age μ—…λ°μ΄νΈ       β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - μ‹μ¤ν… νλΌλ―Έν„° μ—…λ°μ΄νΈ       β”‚  β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤  β”‚                          β”‚
β”‚  β”‚  β”‚ B. EmitterUpdateScript μ‹¤ν–‰        β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - Spawn Rate κ³„μ‚°               β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - μ—λ―Έν„° νλΌλ―Έν„° μ—…λ°μ΄νΈ       β”‚  β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤  β”‚                          β”‚
β”‚  β”‚  β”‚ C. ParticleSpawnScript μ‹¤ν–‰        β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - μ‹ κ· νν‹°ν΄ μ†μ„± μ΄κΈ°ν™”        β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - Position, Velocity, Color λ“±   β”‚  β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤  β”‚                          β”‚
β”‚  β”‚  β”‚ D. ParticleUpdateScript μ‹¤ν–‰       β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - νν‹°ν΄ μ„μΉ/μ†λ„ μ—…λ°μ΄νΈ      β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - Forces, Collisions μ μ©       β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - Age μ¦κ°€, Lifetime μ²΄ν¬       β”‚  β”‚                          β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤  β”‚                          β”‚
β”‚  β”‚  β”‚ E. μ΄λ²¤νΈ μ²λ¦¬ (μ„ νƒμ )            β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - EventHandlerScript μ‹¤ν–‰       β”‚  β”‚                          β”‚
β”‚  β”‚  β”‚    - μ—λ―Έν„° κ°„ ν†µμ‹                  β”‚  β”‚                          β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚         β†“                                                               β”‚
β”‚  [4] λΉ„ν™μ„±ν™” (Deactivation)                                             β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚  β”‚  UNiagaraComponent::DeactivateImmediate()β”‚                          β”‚
β”‚  β”‚    β”β”€ λ¨λ“  νν‹°ν΄ μ¦‰μ‹ μ κ±°               β”‚                          β”‚
β”‚  β”‚    β””β”€ FNiagaraSystemInstance μ •λ¦¬        β”‚                          β”‚
β”‚  β”‚                                          β”‚                          β”‚
β”‚  β”‚  λλ”                                     β”‚                          β”‚
β”‚  β”‚                                          β”‚                          β”‚
β”‚  β”‚  UNiagaraComponent::Deactivate()         β”‚                          β”‚
β”‚  β”‚    β”β”€ μ‹ κ· νν‹°ν΄ μƒμ„± μ¤‘λ‹¨               β”‚                          β”‚
β”‚  β”‚    β”β”€ κΈ°μ΅΄ νν‹°ν΄μ€ LifetimeκΉμ§€ μ μ§€    β”‚                          β”‚
β”‚  β”‚    β””β”€ λ¨λ“  νν‹°ν΄ μ†λ©Έ ν›„ μλ™ μ •λ¦¬       β”‚                          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                          β”‚
β”‚                                                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### CPU vs GPU μ‹¤ν–‰ κ²½λ΅

```
CPU Simulation:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Game Thread:                                              β”‚
β”‚  β””β”€ UNiagaraComponent::TickComponent()                     β”‚
β”‚      β””β”€ FNiagaraSystemInstance::Tick_GameThread()          β”‚
β”‚                                                            β”‚
β”‚  Worker Thread (λ³‘λ ¬):                                      β”‚
β”‚  β””β”€ FNiagaraSystemInstance::Tick_Concurrent()              β”‚
β”‚      β”β”€ VectorVM::Exec() - SIMD μ‹¤ν–‰                       β”‚
β”‚      β”β”€ νν‹°ν΄ λ²„νΌ μ½κΈ°/μ“°κΈ°                               β”‚
β”‚      β””β”€ 128-bit SIMD (4κ° νν‹°ν΄ λ™μ‹ μ²λ¦¬)                 β”‚
β”‚                                                            β”‚
β”‚  Render Thread:                                            β”‚
β”‚  β””β”€ νν‹°ν΄ λ°μ΄ν„° β†’ Render Command λ³€ν™                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

GPU Simulation:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Game Thread:                                              β”‚
β”‚  β””β”€ UNiagaraComponent::TickComponent()                     β”‚
β”‚      β””β”€ GPU Dispatch μ”μ²­                                  β”‚
β”‚                                                            β”‚
β”‚  Render Thread:                                            β”‚
β”‚  β””β”€ FNiagaraSystemInstance::Tick_RenderThread()            β”‚
β”‚      β”β”€ HLSL Compute Shader μ‹¤ν–‰                           β”‚
β”‚      β”β”€ GPU λ²„νΌ μ½κΈ°/μ“°κΈ°                                  β”‚
β”‚      β””β”€ μ™„μ „ λ³‘λ ¬ μ²λ¦¬ (μμ² μ¤λ λ“)                        β”‚
β”‚                                                            β”‚
β”‚  GPU:                                                      β”‚
β”‚  β””β”€ Compute Shader μ‹¤ν–‰                                    β”‚
β”‚      β”β”€ Thread Group λ‹¨μ„ μ‹¤ν–‰                             β”‚
β”‚      β””β”€ 100λ§+ νν‹°ν΄ λ™μ‹ μ²λ¦¬ κ°€λ¥                        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π’΅ μ‹¤μ „ μμ‹ (Practical Examples)

### β… μΆ‹μ€ μ: C++μ—μ„ Niagara μ‹μ¤ν… μƒμ„± λ° μ μ–΄

```cpp
UCLASS()
class AMyActor : public AActor
{
    GENERATED_BODY()

public:
    // β… Niagara μ»΄ν¬λ„νΈ μ„ μ–Έ
    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "VFX")
    UNiagaraComponent* ExplosionVFX;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "VFX")
    UNiagaraSystem* ExplosionSystemAsset;

protected:
    virtual void BeginPlay() override
    {
        Super::BeginPlay();

        // β… μ»΄ν¬λ„νΈ μƒμ„± λ° μ„¤μ •
        ExplosionVFX = NewObject<UNiagaraComponent>(this, TEXT("ExplosionVFX"));
        ExplosionVFX->SetupAttachment(RootComponent);
        ExplosionVFX->RegisterComponent();

        // β… μ—μ…‹ ν• λ‹Ή
        if (ExplosionSystemAsset)
        {
            ExplosionVFX->SetAsset(ExplosionSystemAsset);
        }

        // β… μλ™ ν™μ„±ν™” λΉ„ν™μ„±ν™” (μλ™ μ μ–΄)
        ExplosionVFX->SetAutoActivate(false);
    }

public:
    // β… ν­λ° μ΄ν™νΈ μ¬μƒ
    void TriggerExplosion(FVector Location, float Magnitude)
    {
        if (!ExplosionVFX) return;

        // μ„μΉ μ„¤μ •
        ExplosionVFX->SetWorldLocation(Location);

        // β… νλΌλ―Έν„° μ„¤μ • (μ‹μ¤ν… μ¬μƒ μ „μ— μ„¤μ •)
        ExplosionVFX->SetFloatParameter(FName("ExplosionMagnitude"), Magnitude);
        ExplosionVFX->SetVectorParameter(FName("ExplosionColor"), FVector(1.0f, 0.5f, 0.0f));

        // β… μ‹μ¤ν… ν™μ„±ν™” (bReset=trueλ΅ μ²μλ¶€ν„° μ¬μƒ)
        ExplosionVFX->ActivateSystem(true);

        // β… μ™„λ£ ν›„ μλ™ λΉ„ν™μ„±ν™” (OnSystemFinished λΈλ¦¬κ²μ΄νΈ μ‚¬μ©)
        ExplosionVFX->OnSystemFinished.AddDynamic(this, &AMyActor::OnExplosionFinished);
    }

private:
    UFUNCTION()
    void OnExplosionFinished(UNiagaraComponent* PSystem)
    {
        UE_LOG(LogTemp, Log, TEXT("Explosion VFX finished"));
        // μ¶”κ°€ μ •λ¦¬ μ‘μ—… κ°€λ¥
    }
};
```

### β… μΆ‹μ€ μ: λ™μ  νλΌλ―Έν„° μ μ–΄

```cpp
// β… λ°νƒ€μ„μ— νλΌλ―Έν„° μ—…λ°μ΄νΈ
void UpdateFireIntensity(UNiagaraComponent* FireVFX, float DeltaTime)
{
    // ν„μ¬ κ°•λ„ κ°€μ Έμ¤κΈ°
    float CurrentIntensity = 0.0f;
    FireVFX->GetFloatParameter(FName("FireIntensity"), CurrentIntensity);

    // μ‹κ°„μ— λ”°λΌ κ°•λ„ κ°μ†
    float NewIntensity = FMath::Max(0.0f, CurrentIntensity - DeltaTime * 0.5f);
    FireVFX->SetFloatParameter(FName("FireIntensity"), NewIntensity);

    // β… κ°•λ„κ°€ 0μ΄ λλ©΄ μ‹μ¤ν… λΉ„ν™μ„±ν™”
    if (NewIntensity <= 0.01f)
    {
        FireVFX->Deactivate();  // λ¶€λ“λ¬μ΄ μΆ…λ£ (νν‹°ν΄ LifetimeκΉμ§€ μ μ§€)
    }
}
```

### β… μΆ‹μ€ μ: Skeletal Mesh μ—°λ™

```cpp
// β… μΊλ¦­ν„° λ³Έμ— νν‹°ν΄ λ¶€μ°©
void AttachAuraToCharacter(ACharacter* Character, UNiagaraSystem* AuraSystem)
{
    USkeletalMeshComponent* Mesh = Character->GetMesh();
    if (!Mesh || !AuraSystem) return;

    // β… Niagara μ»΄ν¬λ„νΈ μƒμ„±
    UNiagaraComponent* AuraVFX = UNiagaraFunctionLibrary::SpawnSystemAttached(
        AuraSystem,
        Mesh,
        FName("spine_03"),  // λ³Έ μ΄λ¦„
        FVector::ZeroVector,
        FRotator::ZeroRotator,
        EAttachLocation::SnapToTarget,
        true  // bAutoDestroy
    );

    // β… SkeletalMesh DataInterface μλ™ λ°”μΈλ”©
    // Niagara μ—λ””ν„°μ—μ„ "User.SkeletalMesh" νλΌλ―Έν„°λ¥Ό Meshλ΅ μλ™ μ—°κ²°
}
```

### β λ‚μ μ: λ§¤ ν”„λ μ„ μ‹μ¤ν… μ¬μƒμ„±

```cpp
// β μλ»λ λ°©λ²•: λ§¤ ν”„λ μ„ μƒλ΅μ΄ μ‹μ¤ν… μƒμ„±
void BadUpdateVFX_Tick(float DeltaTime)
{
    // β λ©”λ¨λ¦¬ λ„μ μ„ν—!
    UNiagaraComponent* NewVFX = UNiagaraFunctionLibrary::SpawnSystemAtLocation(
        GetWorld(),
        SomeNiagaraSystem,
        GetActorLocation()
    );
    // μ΄μ „ μ»΄ν¬λ„νΈλ” μ •λ¦¬λμ§€ μ•μ!
}
```

**μ¬λ°”λ¥Έ λ°©λ²•:**

```cpp
// β… μ¬λ°”λ¥Έ λ°©λ²•: μ»΄ν¬λ„νΈ μ¬μ‚¬μ©
UPROPERTY()
UNiagaraComponent* CachedVFX;

void GoodUpdateVFX_BeginPlay()
{
    // β… ν• λ²λ§ μƒμ„±
    CachedVFX = NewObject<UNiagaraComponent>(this);
    CachedVFX->SetAsset(SomeNiagaraSystem);
    CachedVFX->SetAutoActivate(false);
    CachedVFX->RegisterComponent();
}

void GoodUpdateVFX_Tick(float DeltaTime)
{
    if (!CachedVFX->IsActive())
    {
        // β… ν•„μ”ν•  λ•λ§ ν™μ„±ν™”
        CachedVFX->SetWorldLocation(GetActorLocation());
        CachedVFX->ActivateSystem(true);
    }
}
```

### β λ‚μ μ: GPU μ‹λ®¬λ μ΄μ…μ—μ„ CPU μ „μ© κΈ°λ¥ μ‚¬μ©

```cpp
// β GPU μ‹λ®¬λ μ΄μ…μ—μ„λ” μΌλ¶€ DataInterface μ‚¬μ© λ¶κ°€
// Niagara μ—λ””ν„°μ—μ„:
// Emitter Properties β†’ Sim Target = GPU Compute Sim

// β μ΄ DataInterfaceλ“¤μ€ GPUμ—μ„ μ§€μ› μ• λ¨:
// - Collision Query (CPU μ „μ©)
// - Skeletal Mesh Socket Sampling (CPU μ „μ©)
// - Audio Player (CPU μ „μ©)

// λ°νƒ€μ„ μ—λ¬ λ°μƒ:
// "DataInterface XXX is not supported on GPU"
```

**ν•΄κ²°μ±…:**

```cpp
// β… GPU μ§€μ› DataInterface μ‚¬μ© λλ” CPU μ‹λ®¬λ μ΄μ…μΌλ΅ λ³€κ²½

// μµμ… 1: GPU μ§€μ› DataInterface μ‚¬μ©
// - Texture Sample (GPU μ§€μ›)
// - Static Mesh Sampling (GPU μ§€μ›)
// - Scene Depth Collision (GPU μ§€μ›)

// μµμ… 2: Emitterλ¥Ό CPUλ΅ λ³€κ²½
// Emitter Properties β†’ Sim Target = CPU Sim
```

---

## π“ μ„±λ¥ μµμ ν™” (Performance Optimization)

### stat λ…λ Ήμ–΄

```
stat Niagara              // Niagara μ „μ²΄ ν†µκ³„
stat NiagaraEmitters      // μ—λ―Έν„°λ³„ μƒμ„Έ ν†µκ³„
stat NiagaraGPU           // GPU μ‹λ®¬λ μ΄μ… ν†µκ³„
stat Particles            // νν‹°ν΄ κ°μ ν†µκ³„
```

**μ£Όμ” μ§€ν‘:**
- **Niagara Game Thread Time**: κ²μ„ μ¤λ λ“ μ‹κ°„ (λ©ν‘: < 1ms)
- **Niagara Render Thread Time**: λ λ” μ¤λ λ“ μ‹κ°„ (λ©ν‘: < 2ms)
- **Particle Count**: μ΄ νν‹°ν΄ κ°μ (λ©ν‘: CPU < 50λ§, GPU < 100λ§)
- **System Count**: ν™μ„± μ‹μ¤ν… κ°μ (λ©ν‘: < 100)
- **GPU Particle Memory**: GPU λ©”λ¨λ¦¬ μ‚¬μ©λ‰

### β… ν•΄μ•Ό ν•  κ²ƒ

**1. Scalability μ„¤μ •:**

```cpp
// β… Effect Type μƒμ„± λ° μ„¤μ •
UNiagaraEffectType* EffectType = NewObject<UNiagaraEffectType>();
EffectType->NumInstancesToActivate = 10;  // λ™μ‹ ν™μ„± κ°μ μ ν•

// β… μ‹μ¤ν…μ— μ μ©
NiagaraSystem->SetEffectType(EffectType);
```

**2. Fixed Bounds μ‚¬μ© (μ •μ  μ΄ν™νΈ):**

```cpp
// β… κ²½κ³„ κ³„μ‚° λΉ„μ© μ κ±°
NiagaraSystem->bFixedBounds = true;
NiagaraSystem->FixedBounds = FBox(
    FVector(-100, -100, -100),
    FVector(100, 100, 100)
);
```

**3. GPU μ‹λ®¬λ μ΄μ… (λ€κ·λ¨ νν‹°ν΄):**

```
Emitter Properties:
  Sim Target: GPU Compute Sim  β† β… 10λ§+ νν‹°ν΄ μ‹ GPU μ‚¬μ©

μ„±λ¥ λΉ„κµ:
  CPU: 10λ§ νν‹°ν΄ = ~5ms
  GPU: 100λ§ νν‹°ν΄ = ~1ms (20λ°° λΉ λ¦„)
```

**4. LOD μ‹μ¤ν…:**

```cpp
// β… κ±°λ¦¬λ³„ ν€„λ¦¬ν‹° μ΅°μ 
Scalability Settings:
  - Near (< 10m): Full quality
  - Medium (10-30m): νν‹°ν΄ 50% κ°μ†
  - Far (30m+): νν‹°ν΄ 75% κ°μ† λλ” λΉ„ν™μ„±ν™”
```

**5. Warmup μµμ ν™”:**

```cpp
// β… λ£¨ν”„ μ΄ν™νΈλ” Warmup μ‚¬μ©
NiagaraSystem->WarmupTime = 2.0f;       // 2μ΄ μ›λ°μ—…
NiagaraSystem->WarmupTickCount = 60;     // 60ν‹±
NiagaraSystem->WarmupTickDelta = 1.0f / 30.0f;  // 30 FPS
```

### β ν”Όν•΄μ•Ό ν•  κ²ƒ

**1. κ³Όλ„ν• Spawn Rate:**

```
β λ‚μ μ:
  Spawn Rate: 10000 particles/sec
  Lifetime: 5μ΄
  β†’ μ΄ 5λ§ κ° νν‹°ν΄ (CPU λ³‘λ©)

β… μΆ‹μ€ μ:
  Spawn Rate: 1000 particles/sec
  Lifetime: 2μ΄
  β†’ μ΄ 2μ² κ° νν‹°ν΄ (μ μ • μμ¤€)
```

**2. λ³µμ΅ν• Update Script:**

```
β λ‚μ μ: Update Scriptμ—μ„ λ¬΄κ±°μ΄ κ³„μ‚°
  - For Loop 1000ν
  - λ³µμ΅ν• Noise ν•¨μ (λ§¤ νν‹°ν΄λ§λ‹¤)
  - Collision Query (λ§¤ ν”„λ μ„)

β… μΆ‹μ€ μ:
  - κ°„λ‹¨ν• Force κ³„μ‚°
  - Sample Texture (μΊμ‹ ν™μ©)
  - ν•„μ” μ‹ Simulation Stage μ‚¬μ© (λ©€ν‹° ν¨μ¤)
```

**3. CalculateBoundsMode = Dynamic (λ€κ·λ¨):**

```
β λ‚μ μ: 10λ§ νν‹°ν΄ + Dynamic Bounds
  β†’ λ§¤ ν”„λ μ„ λ¨λ“  νν‹°ν΄ μ„μΉ κ²€μ‚¬ (~2ms)

β… μΆ‹μ€ μ: Fixed Bounds μ‚¬μ©
  β†’ κ²½κ³„ κ³„μ‚° 0ms
```

---

## π”§ λ””λ²„κΉ… λ° νΈλ¬λΈ”μν… (Debugging & Troubleshooting)

### Niagara Debugger

**μ—λ””ν„°μ—μ„ ν™μ„±ν™”:**

1. Window β†’ Niagara Debugger
2. PIE μ‹¤ν–‰
3. ν™μ„± μ‹μ¤ν… λ©λ΅ ν™•μΈ
4. μ—λ―Έν„°λ³„ νν‹°ν΄ κ°μ, λ©”λ¨λ¦¬, μ‹κ°„ ν™•μΈ

**λ””λ²„κΉ… ν:**

```
β… νν‹°ν΄μ΄ μƒμ„±λμ§€ μ•μ:
  - Spawn Rate ν™•μΈ (> 0)
  - Emitter Enabled ν™•μΈ
  - μ‹μ¤ν…μ΄ Activateλμ—λ”μ§€ ν™•μΈ
  - Renderer μ¶”κ°€ ν™•μΈ (Sprite/Mesh)

β… νν‹°ν΄μ΄ λ³΄μ΄μ§€ μ•μ:
  - Renderer Properties ν™•μΈ
  - Material μ„¤μ • ν™•μΈ
  - Visibility μ²΄ν¬ (Cull Distance)
  - Bounds ν™•μΈ (μΉ΄λ©”λΌ Frustum λ‚΄λ¶€μΈμ§€)

β… μ„±λ¥ μ €ν•:
  - stat Niagara ν™•μΈ
  - νν‹°ν΄ κ°μ μ ν• (Scalability)
  - GPU μ‹λ®¬λ μ΄μ… κ³ λ ¤
  - Bounds κ³„μ‚° μµμ ν™” (Fixed Bounds)

β… GPU μ‹λ®¬λ μ΄μ… ν¬λμ‹:
  - DataInterface GPU μ§€μ› μ—¬λ¶€ ν™•μΈ
  - HLSL μ»΄νμΌ μ—λ¬ ν™•μΈ
  - DDC μΊμ‹ μ¬μƒμ„± (Edit β†’ Delete Derived Data Cache)
```

### ν”ν• μ—λ¬μ™€ ν•΄κ²° λ°©λ²•

**1. "DataInterface XXX is not supported on GPU"**

```
μ›μΈ: GPU μ‹λ®¬λ μ΄μ…μ—μ„ CPU μ „μ© DataInterface μ‚¬μ©

ν•΄κ²°μ±…:
  - Emitter β†’ Sim Target β†’ CPU SimμΌλ΅ λ³€κ²½
  λλ”
  - GPU μ§€μ› DataInterfaceλ΅ κµμ²΄
```

**2. "Script compilation failed"**

```
μ›μΈ: μ»΄νμΌ μ—λ¬ λλ” DDC μΊμ‹ λ¬Έμ 

ν•΄κ²°μ±…:
  1. Output Log ν™•μΈ (μ—λ¬ λ©”μ‹μ§€)
  2. Niagara μ—λ””ν„° β†’ Compile λ²„νΌ ν΄λ¦­
  3. DDC μ¬μƒμ„±: Edit β†’ Delete Derived Data Cache
  4. μ—λ””ν„° μ¬μ‹μ‘
```

**3. "Particle count exceeds budget"**

```
μ›μΈ: Scalability μ ν• μ΄κ³Ό

ν•΄κ²°μ±…:
  - Effect Type β†’ NumInstancesToActivate μ¦κ°€
  - Spawn Rate κ°μ†
  - Particle Lifetime κ°μ†
```

**4. "System not rendering"**

```
μ›μΈ: Boundsκ°€ μΉ΄λ©”λΌ Frustum λ°–

ν•΄κ²°μ±…:
  - Fixed Bounds μ¦κ°€
  λλ”
  - CalculateBoundsMode β†’ Dynamic
  λλ”
  - Cull Distance μ¦κ°€
```

---

## π”— κ΄€λ ¨ λ¬Έμ„ (Related Documents)

μ΄ λ¬Έμ„λ” Overviewμ΄λ―€λ΅, μƒμ„Έ λ‚΄μ©μ€ λ‹¤μ λ¬Έμ„λ“¤μ„ μ°Έμ΅°ν•μ„Έμ”:

- **[NiagaraSystem.md](Core/NiagaraSystem.md)** - μ‹μ¤ν… κµ¬μ΅°, EmitterHandle, SystemScript μƒμ„Έ
- **[NiagaraEmitter.md](Core/NiagaraEmitter.md)** - μ—λ―Έν„° λ²„μ „ μ‹μ¤ν…, SimTarget, AllocationMode μƒμ„Έ
- **[NiagaraComponent.md](Core/NiagaraComponent.md)** - λ°νƒ€μ„ μ»΄ν¬λ„νΈ, νλΌλ―Έν„° μ μ–΄, μƒλ…μ£ΌκΈ°
- **[DataInterface.md](Core/DataInterface.md)** - 52+ DataInterface νƒ€μ…, μ»¤μ¤ν…€ DI μ μ‘

---

## π“ μ°Έκ³  μλ£ (References)

### μ†μ¤ νμΌ
- `Engine/Plugins/FX/Niagara/Source/Niagara/Classes/NiagaraSystem.h` (1,167 λΌμΈ)
- `Engine/Plugins/FX/Niagara/Source/Niagara/Classes/NiagaraEmitter.h` (1,163 λΌμΈ)
- `Engine/Plugins/FX/Niagara/Source/Niagara/Public/NiagaraComponent.h` (600+ λΌμΈ)
- `Engine/Plugins/FX/Niagara/Source/Niagara/Classes/NiagaraDataInterface.h` (300+ λΌμΈ)

### κ³µμ‹ λ¬Έμ„
- [Unreal Engine - Niagara Overview](https://docs.unrealengine.com/5.7/en-US/overview-of-niagara-effects-for-unreal-engine/)
- [Niagara System and Emitter](https://docs.unrealengine.com/5.7/en-US/creating-systems-in-niagara-for-unreal-engine/)
- [Niagara Data Interfaces](https://docs.unrealengine.com/5.7/en-US/niagara-data-interfaces-in-unreal-engine/)

### External μ°Έκ³  λ¬Έμ„ (μ΄ μ €μ¥μ†)
- `UnrealSummary/External/λ‚μ΄μ•„κ°€λΌ/λ‚μ΄μ•„κ°€λΌ λ¶„μ„/1 λ‚μ΄μ•„κ°€λΌ μ‹μ¤ν… κ°μ”` - μ„¤κ³„ μ² ν•™, ν•µμ‹¬ κ°λ…
- `UnrealSummary/External/λ‚μ΄μ•„κ°€λΌ/λ‚μ΄μ•„κ°€λΌ λ¶„μ„/2 λ‚μ΄μ•„κ°€λΌ κµ¬μ„± μ”μ† λ° λ°μ΄ν„° λ¨λΈ` - μ „μ²΄ κµ¬μ΅°
- `UnrealSummary/External/λ‚μ΄μ•„κ°€λΌ/λ‚μ΄μ•„κ°€λΌ λ¶„μ„/λ‚μ΄μ•„κ°€λΌ μ»΄νμΌ` - DDC, HLSL, λ°”μ΄νΈμ½”λ“
- `UnrealSummary/External/λ‚μ΄μ•„κ°€λΌ/λ‚μ΄μ•„κ°€λΌ λ¶„μ„/VM` - VectorVM μ•„ν‚¤ν…μ², SIMD μµμ ν™”

### μ£Όμ” API
```cpp
// UNiagaraSystem
TArray<FNiagaraEmitterHandle> GetEmitterHandles() const;
UNiagaraScript* GetSystemSpawnScript() const;
UNiagaraScript* GetSystemUpdateScript() const;

// UNiagaraComponent
void ActivateSystem(bool bReset = false);
void DeactivateImmediate();
void Deactivate();
void SetFloatParameter(FName ParameterName, float Value);
void SetVectorParameter(FName ParameterName, FVector Value);
void SetColorParameter(FName ParameterName, FLinearColor Value);
bool IsActive() const;

// UNiagaraFunctionLibrary
static UNiagaraComponent* SpawnSystemAtLocation(
    UObject* WorldContextObject,
    UNiagaraSystem* SystemTemplate,
    FVector Location,
    FRotator Rotation = FRotator::ZeroRotator,
    FVector Scale = FVector(1.f),
    bool bAutoDestroy = true,
    bool bAutoActivate = true,
    ENCPoolMethod PoolingMethod = ENCPoolMethod::None,
    bool bPreCullCheck = true
);

static UNiagaraComponent* SpawnSystemAttached(
    UNiagaraSystem* SystemTemplate,
    USceneComponent* AttachToComponent,
    FName AttachPointName,
    FVector Location,
    FRotator Rotation,
    EAttachLocation::Type LocationType,
    bool bAutoDestroy,
    bool bAutoActivate = true,
    ENCPoolMethod PoolingMethod = ENCPoolMethod::None,
    bool bPreCullCheck = true
);
```

---

> π”„ **μ‘μ„±μΌ**: 2025-11-10
> π“ **λ¬Έμ„ λ²„μ „**: v1.0
> β… **μ†μ¤ κ²€μ¦**: UE 5.7.0
> π“‚ **λ‹¤μ λ¬Έμ„**: [NiagaraSystem.md](Core/NiagaraSystem.md)
